//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../../gig_ios/src/edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "edu/umass/cs/gigapaxos/interfaces/AppRequestParser.h"
#include "edu/umass/cs/gigapaxos/interfaces/Request.h"
#include "edu/umass/cs/nio/interfaces/IntegerPacketType.h"
#include "edu/umass/cs/nio/interfaces/Stringifiable.h"
#include "edu/umass/cs/nio/nioutils/NIOHeader.h"
#include "edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.h"
#include "edu/umass/cs/reconfiguration/ReconfigurationConfig.h"
#include "edu/umass/cs/reconfiguration/interfaces/ReconfigurableRequest.h"
#include "edu/umass/cs/reconfiguration/interfaces/ReconfiguratorCallback.h"
#include "edu/umass/cs/reconfiguration/interfaces/ReplicableRequest.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/BasicReconfigurationPacket.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/DemandReport.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/RCRecordRequest.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/ReconfigurationPacket.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/RequestActiveReplicas.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/StartEpoch.h"
#include "edu/umass/cs/reconfiguration/reconfigurationpackets/StopEpoch.h"
#include "edu/umass/cs/reconfiguration/reconfigurationutils/ConsistentHashing.h"
#include "edu/umass/cs/reconfiguration/reconfigurationutils/ConsistentReconfigurableNodeConfig.h"
#include "edu/umass/cs/reconfiguration/reconfigurationutils/ReconfigurationRecord.h"
#include "edu/umass/cs/utils/Config.h"
#include "edu/umass/cs/utils/DelayProfiler.h"
#include "edu/umass/cs/utils/Summarizable.h"
#include "java/io/PrintStream.h"
#include "java/lang/Boolean.h"
#include "java/lang/Enum.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalAccessException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/InterruptedException.h"
#include "java/lang/NoSuchMethodException.h"
#include "java/lang/Runnable.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/System.h"
#include "java/lang/Thread.h"
#include "java/lang/reflect/InvocationTargetException.h"
#include "java/lang/reflect/Method.h"
#include "java/net/InetSocketAddress.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"
#include "org/json/JSONException.h"
#include "org/json/JSONObject.h"

#pragma clang diagnostic ignored "-Wprotocol"

@interface EduUmassCsReconfigurationAbstractReconfiguratorDB () {
 @public
  id<EduUmassCsReconfigurationInterfacesReconfiguratorCallback> callback_;
  EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *blockingRequest_;
}

- (jboolean)uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:(EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *)rcPacket
                                                                                              withBoolean:(jboolean)recovering;

- (void)assertMergesAllDone;

- (jboolean)isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq
                                    withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)record;

- (jboolean)differByOneWithJavaUtilSet:(id<JavaUtilSet>)s1
                       withJavaUtilSet:(id<JavaUtilSet>)s2;

- (jboolean)isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq
                         withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)record;

- (jboolean)areRCChangesComplete;

- (id<JavaUtilSet>)diffWithJavaUtilSet:(id<JavaUtilSet>)s1
                       withJavaUtilSet:(id<JavaUtilSet>)s2;

- (id)getMyID;

- (jboolean)selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq;

- (void)selfNotify;

@end

J2OBJC_FIELD_SETTER(EduUmassCsReconfigurationAbstractReconfiguratorDB, callback_, id<EduUmassCsReconfigurationInterfacesReconfiguratorCallback>)
J2OBJC_FIELD_SETTER(EduUmassCsReconfigurationAbstractReconfiguratorDB, blockingRequest_, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)

inline JavaUtilLoggingLogger *EduUmassCsReconfigurationAbstractReconfiguratorDB_get_log();
static JavaUtilLoggingLogger *EduUmassCsReconfigurationAbstractReconfiguratorDB_log;
J2OBJC_STATIC_FIELD_OBJ_FINAL(EduUmassCsReconfigurationAbstractReconfiguratorDB, log, JavaUtilLoggingLogger *)

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *rcPacket, jboolean recovering);

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_assertMergesAllDone(EduUmassCsReconfigurationAbstractReconfiguratorDB *self);

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq, EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record);

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_differByOneWithJavaUtilSet_withJavaUtilSet_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, id<JavaUtilSet> s1, id<JavaUtilSet> s2);

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq, EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record);

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_areRCChangesComplete(EduUmassCsReconfigurationAbstractReconfiguratorDB *self);

__attribute__((unused)) static id<JavaUtilSet> EduUmassCsReconfigurationAbstractReconfiguratorDB_diffWithJavaUtilSet_withJavaUtilSet_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, id<JavaUtilSet> s1, id<JavaUtilSet> s2);

__attribute__((unused)) static id EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(EduUmassCsReconfigurationAbstractReconfiguratorDB *self);

__attribute__((unused)) static jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq);

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_selfNotify(EduUmassCsReconfigurationAbstractReconfiguratorDB *self);

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initWithNSString_withInt_(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *self, NSString *__name, jint __ordinal);

@interface EduUmassCsReconfigurationAbstractReconfiguratorDB_1 : NSObject < JavaLangRunnable > {
 @public
  EduUmassCsReconfigurationAbstractReconfiguratorDB *this$0_;
  EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *val$rcPacket_;
  jboolean val$recovering_;
}

- (instancetype)initWithEduUmassCsReconfigurationAbstractReconfiguratorDB:(EduUmassCsReconfigurationAbstractReconfiguratorDB *)outer$
withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:(EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *)capture$0
                                                              withBoolean:(jboolean)capture$1;

- (void)run;

@end

J2OBJC_EMPTY_STATIC_INIT(EduUmassCsReconfigurationAbstractReconfiguratorDB_1)

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *self, EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1);

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1);

@interface EduUmassCsReconfigurationAbstractReconfiguratorDB_2 : NSObject < EduUmassCsGigapaxosInterfacesRequest >

- (instancetype)init;

- (id<EduUmassCsNioInterfacesIntegerPacketType>)getRequestType;

- (NSString *)getServiceName;

- (NSString *)description;

@end

J2OBJC_EMPTY_STATIC_INIT(EduUmassCsReconfigurationAbstractReconfiguratorDB_2)

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init(EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *self);

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init();

@interface EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 : NSObject < EduUmassCsNioInterfacesIntegerPacketType >

- (instancetype)init;

- (jint)getInt;

@end

J2OBJC_EMPTY_STATIC_INIT(EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1)

__attribute__((unused)) static void EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init(EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *self);

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init();

J2OBJC_INITIALIZED_DEFN(EduUmassCsReconfigurationAbstractReconfiguratorDB)

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_TWO_PAXOS_RC;

@implementation EduUmassCsReconfigurationAbstractReconfiguratorDB

- (instancetype)initWithId:(id)myID
withEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig:(EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *)nc {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_initWithId_withEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig_(self, myID, nc);
  return self;
}

- (EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)getReconfigurationRecordWithNSString:(NSString *)name
                                                                                                     withInt:(jint)epoch {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = [self getReconfigurationRecordWithNSString:name];
  return record != nil && [record getEpoch] == epoch ? record : nil;
}

- (EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)createRecordWithNSString:(NSString *)name {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = nil;
  record = create_EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_initWithNSString_withInt_withJavaUtilSet_(name, 0, [((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) getReplicatedActivesWithNSString:name]);
  return record;
}

- (jboolean)executeWithEduUmassCsGigapaxosInterfacesRequest:(id<EduUmassCsGigapaxosInterfacesRequest>)request
                                                withBoolean:(jboolean)doNotReplyToClient {
  [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} executing {1}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [((id<EduUmassCsGigapaxosInterfacesRequest>) nil_chk(request)) getSummary] } count:2 type:NSObject_class_()]];
  if ([((NSString *) nil_chk([request getServiceName])) isEqual:EduUmassCsGigapaxosInterfacesRequest_NO_OP] && [((NSString *) nil_chk([request description])) isEqual:EduUmassCsGigapaxosInterfacesRequest_NO_OP]) return true;
  JreAssert((([request isKindOfClass:[EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket class]])), (request));
  jboolean handled = false;
  EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *rcPacket = (EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *) cast_chk(request, [EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket class]);
  if (EduUmassCsReconfigurationAbstractReconfiguratorDB_uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(self, rcPacket, self->recovering_)) handled = true;
  else handled = [((JavaLangBoolean *) nil_chk((JavaLangBoolean *) cast_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_autoInvokeMethodWithId_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_withEduUmassCsNioInterfacesStringifiable_(self, rcPacket, doNotReplyToClient, self->consistentNodeConfig_), [JavaLangBoolean class]))) booleanValue];
  return handled;
}

+ (id)autoInvokeMethodWithId:(id)target
withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:(EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *)rcPacket
                 withBoolean:(jboolean)recovery
withEduUmassCsNioInterfacesStringifiable:(id<EduUmassCsNioInterfacesStringifiable>)unstringer {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_autoInvokeMethodWithId_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_withEduUmassCsNioInterfacesStringifiable_(target, rcPacket, recovery, unstringer);
}

- (jboolean)uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:(EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *)rcPacket
                                                                                              withBoolean:(jboolean)recovering {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(self, rcPacket, recovering);
}

- (jboolean)handleDemandReportWithEduUmassCsReconfigurationReconfigurationpacketsDemandReport:(EduUmassCsReconfigurationReconfigurationpacketsDemandReport *)report {
  return [self updateDemandStatsWithEduUmassCsReconfigurationReconfigurationpacketsDemandReport:report];
}

- (void)setCallbackWithEduUmassCsReconfigurationInterfacesReconfiguratorCallback:(id<EduUmassCsReconfigurationInterfacesReconfiguratorCallback>)callback {
  JreStrongAssign(&self->callback_, callback);
}

- (jboolean)handleRCRecordRequestWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq
                                                                                        withBoolean:(jboolean)recovery {
  if ([((EduUmassCsReconfigurationReconfigurationpacketsStartEpoch *) nil_chk(((EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *) nil_chk(rcRecReq))->startEpoch_)) isInitEpoch] && ![rcRecReq isDeleteIntentOrPrevDropComplete] && [self getReconfigurationRecordWithNSString:[rcRecReq getServiceName]] == nil) if (![rcRecReq->startEpoch_ isBatchedCreate]) [self createReconfigurationRecordWithEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:create_EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_initWithNSString_withInt_withJavaUtilSet_([rcRecReq getServiceName], [rcRecReq->startEpoch_ getEpochNumber] - 1, rcRecReq->startEpoch_->curEpochGroup_)];
  else if (![self createReconfigurationRecordsWithJavaUtilMap:[rcRecReq->startEpoch_ getNameStates] withJavaUtilSet:[rcRecReq->startEpoch_ getCurEpochGroup]]) return false;
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = [self getReconfigurationRecordWithNSString:[rcRecReq getServiceName]];
  JreAssert(((record != nil || [rcRecReq isReconfigurationPrevDropComplete])), (JreStrcat("@$@", EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self), @" : ", rcRecReq)));
  if (record == nil) return false;
  [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received RCRecordRequest {1} while rcRecord = {2}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [record getSummary] } count:3 type:NSObject_class_()]];
  if (!EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(self, rcRecReq, record) || !EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(self, rcRecReq, record)) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received illegitimate RCRecordRequest {1} while rcRecord = {2}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [record getSummary] } count:3 type:NSObject_class_()]];
    return false;
  }
  if ([rcRecReq isNodeConfigChange] && [rcRecReq isReconfigurationComplete]) {
    JreAssert(((![((id<JavaUtilSet>) nil_chk([rcRecReq->startEpoch_ getPrevEpochGroup])) isEmpty])), (@"edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.java:197 condition failed: assert (!rcRecReq.startEpoch.getPrevEpochGroup().isEmpty());"));
    if ([record getEpoch] - [rcRecReq getEpochNumber] < 0 && [record isReady] && self->callback_ != nil) [self->callback_ executedWithEduUmassCsGigapaxosInterfacesRequest:create_EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_initWithId_withEduUmassCsReconfigurationReconfigurationpacketsStartEpoch_withEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_RequestTypes_([rcRecReq getInitiator], rcRecReq->startEpoch_, JreLoadEnum(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_RequestTypes, RECONFIGURATION_INTENT)) withBoolean:true];
    if (EduUmassCsReconfigurationAbstractReconfiguratorDB_selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_(self, rcRecReq)) {
      [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0} blocked upon {1}  when record = {2}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [record getSummary] } count:3 type:NSObject_class_()]];
      return false;
    }
    [self garbageCollectOldReconfiguratorsWithInt:[rcRecReq getEpochNumber] - 1];
    [((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) removeReconfiguratorsSlatedForRemoval];
    NSString *print = JreStrcat("$CIC@$", [((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description], ':', [rcRecReq getEpochNumber], '=', [self->consistentNodeConfig_ getReconfigurators], @"  ");
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0} {1}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, print } count:2 type:NSObject_class_()]];
    if ([nil_chk([rcRecReq getInitiator]) isEqual:EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self)]) [((JavaIoPrintStream *) nil_chk(JreLoadStatic(JavaLangSystem, out))) printWithNSString:print];
  }
  jboolean handled = false;
  if ([rcRecReq isReconfigurationIntent]) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received {1}; changing state {2} {3} {4} -> {5} {6} {7}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [rcRecReq getServiceName], JavaLangInteger_valueOfWithInt_([record getEpoch]), [record getState], JavaLangInteger_valueOfWithInt_([rcRecReq getEpochNumber] - 1), JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_STOP), [rcRecReq->startEpoch_ getCurEpochGroup] } count:8 type:NSObject_class_()]];
    handled = [rcRecReq->startEpoch_ isBatchedCreate] ? [self setStateInitReconfigurationWithJavaUtilMap:[rcRecReq->startEpoch_ getNameStates] withInt:[rcRecReq getEpochNumber] - 1 withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_STOP) withJavaUtilSet:[rcRecReq->startEpoch_ getCurEpochGroup]] : [self setStateInitReconfigurationWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber] - 1 withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_STOP) withJavaUtilSet:[rcRecReq->startEpoch_ getCurEpochGroup]];
  }
  else if ([rcRecReq isReconfigurationComplete]) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received {1}; changing state {2} {3} {4} -> {5} {6}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [rcRecReq getServiceName], JavaLangInteger_valueOfWithInt_([record getEpoch]), [record getState], JavaLangInteger_valueOfWithInt_([rcRecReq getEpochNumber]), JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY) } count:7 type:NSObject_class_()]];
    handled = [rcRecReq->startEpoch_ isBatchedCreate] ? [self setStateMergeWithJavaUtilMap:[rcRecReq->startEpoch_ getNameStates] withInt:[rcRecReq getEpochNumber] withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY_READY) withJavaUtilSet:[rcRecReq->startEpoch_ getCurEpochGroup]] : [self setStateMergeWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber] withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates:[rcRecReq->startEpoch_ noCurEpochGroup] ? JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_DELETE) : [rcRecReq->startEpoch_ noPrevEpochGroup] ? JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY_READY) : JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY) withJavaUtilSet:[rcRecReq->startEpoch_ getCurEpochGroup] withJavaUtilSet:[rcRecReq->startEpoch_ getMergees]];
  }
  else if ([rcRecReq isDeleteIntent]) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received {1}; changing state {2} {3} {4} -> DELETE" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [rcRecReq getServiceName], JavaLangInteger_valueOfWithInt_([record getEpoch]), [record getState] } count:5 type:NSObject_class_()]];
    handled = [self markDeleteReconfigurationRecordWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber]];
  }
  else if ([rcRecReq isReconfigurationPrevDropComplete]) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received {1}; changing state {2} {3} {4} -> READY_READY/DELETE" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [rcRecReq getServiceName], JavaLangInteger_valueOfWithInt_([record getEpoch]), [record getState] } count:5 type:NSObject_class_()]];
    handled = [rcRecReq->startEpoch_ hasCurEpochGroup] ? [self setStateWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber] withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY_READY)] : [rcRecReq->startEpoch_ noCurEpochGroup] && [record isDeletable] ? [self deleteReconfigurationRecordWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber]] : true;
  }
  else if ([rcRecReq isReconfigurationMerge]) {
    [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE) withNSString:@"{0} received {1}; merging state {2} {3} into {4} {5}{6}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [rcRecReq getSummary], [rcRecReq->startEpoch_ getPrevGroupName], JavaLangInteger_valueOfWithInt_([rcRecReq->startEpoch_ getPrevEpochNumber]), [rcRecReq getServiceName], JavaLangInteger_valueOfWithInt_([record getEpoch]), [record getState] } count:7 type:NSObject_class_()]];
    @try {
      handled = [self mergeStateWithNSString:[rcRecReq getServiceName] withInt:[rcRecReq getEpochNumber] withNSString:[rcRecReq->startEpoch_ getPrevGroupName] withInt:[rcRecReq->startEpoch_ getPrevEpochNumber] withNSString:rcRecReq->startEpoch_->initialState_];
    }
    @catch (JavaLangException *e) {
      [EduUmassCsReconfigurationAbstractReconfiguratorDB_log severeWithNSString:JreStrcat("@$$", self, @" incurred exception in mergeState ", [((JavaLangException *) nil_chk(e)) getMessage])];
      handled = false;
    }
  }
  else @throw create_JavaLangRuntimeException_initWithNSString_(@"Received unexpected RCRecordRequest");
  [EduUmassCsReconfigurationAbstractReconfiguratorDB_log logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0} {1} {2}; record = {3} " withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, handled ? @"successfully handled" : @"turned into a noop", [rcRecReq getSummary], [record getSummary] } count:4 type:NSObject_class_()]];
  if (handled && ([rcRecReq isReconfigurationComplete] || [rcRecReq isReconfigurationMerge]) && [self isRCGroupNameWithNSString:[record getName]]) EduUmassCsReconfigurationAbstractReconfiguratorDB_selfNotify(self);
  else if (handled && [rcRecReq isReconfigurationComplete] && [rcRecReq isNodeConfigChange]) EduUmassCsReconfigurationAbstractReconfiguratorDB_assertMergesAllDone(self);
  return handled;
}

- (void)assertMergesAllDone {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_assertMergesAllDone(self);
}

- (jboolean)isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq
                                    withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)record {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(self, rcRecReq, record);
}

- (jboolean)differByOneWithJavaUtilSet:(id<JavaUtilSet>)s1
                       withJavaUtilSet:(id<JavaUtilSet>)s2 {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_differByOneWithJavaUtilSet_withJavaUtilSet_(self, s1, s2);
}

- (NSString *)description {
  return JreStrcat("$@", @"RCDB", myID_);
}

- (jboolean)executeWithEduUmassCsGigapaxosInterfacesRequest:(id<EduUmassCsGigapaxosInterfacesRequest>)request {
  return [self executeWithEduUmassCsGigapaxosInterfacesRequest:request withBoolean:false];
}

- (id<EduUmassCsGigapaxosInterfacesRequest>)getRequestWithNSString:(NSString *)stringified {
  if ([((NSString *) nil_chk(stringified)) isEqual:EduUmassCsGigapaxosInterfacesRequest_NO_OP]) return EduUmassCsReconfigurationAbstractReconfiguratorDB_getNoopRequestWithNSString_(stringified);
  EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *rcPacket = nil;
  @try {
    rcPacket = EduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_getReconfigurationPacketWithOrgJsonJSONObject_withEduUmassCsNioInterfacesStringifiable_(create_OrgJsonJSONObject_initWithNSString_(stringified), self->consistentNodeConfig_);
  }
  @catch (OrgJsonJSONException *e) {
    [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) severeWithNSString:JreStrcat("@$$C", self, @" encountered JSONException trying to decode [", stringified, ']')];
    [((OrgJsonJSONException *) nil_chk(e)) printStackTrace];
  }
  return rcPacket;
}

+ (id<EduUmassCsGigapaxosInterfacesRequest>)getNoopRequestWithNSString:(NSString *)stringified {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_getNoopRequestWithNSString_(stringified);
}

- (id<JavaUtilSet>)getRequestTypes {
  return create_JavaUtilHashSet_init();
}

- (id<EduUmassCsReconfigurationInterfacesReconfigurableRequest>)getStopRequestWithNSString:(NSString *)name
                                                                                   withInt:(jint)epoch {
  EduUmassCsReconfigurationReconfigurationpacketsStopEpoch *stop = create_EduUmassCsReconfigurationReconfigurationpacketsStopEpoch_initWithId_withNSString_withInt_(EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self), name, epoch);
  JreAssert((([EduUmassCsReconfigurationInterfacesReplicableRequest_class_() isInstance:stop])), (@"edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.java:448 condition failed: assert (stop instanceof ReplicableRequest);"));
  return stop;
}

- (JavaLangInteger *)getEpochWithNSString:(NSString *)name {
  @synchronized(self) {
    EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = [self getReconfigurationRecordWithNSString:name];
    return (record != nil ? JavaLangInteger_valueOfWithInt_([record getEpoch]) : nil);
  }
}

- (NSString *)getFinalStateWithNSString:(NSString *)name
                                withInt:(jint)epoch {
  @throw create_JavaLangRuntimeException_initWithNSString_(@"Method not yet implemented and should never have been calledas AbstractReconfiguratorDB uses PaxosReplicaCoordinator");
}

- (void)putInitialStateWithNSString:(NSString *)name
                            withInt:(jint)epoch
                       withNSString:(NSString *)state {
  @throw create_JavaLangRuntimeException_initWithNSString_(@"Method not yet implemented and should never have been calledas AbstractReconfiguratorDB uses PaxosReplicaCoordinator");
}

- (jboolean)deleteFinalStateWithNSString:(NSString *)name
                                 withInt:(jint)epoch {
  @throw create_JavaLangRuntimeException_initWithNSString_(@"Method not yet implemented and should never have been calledas AbstractReconfiguratorDB uses PaxosReplicaCoordinator");
}

- (jboolean)isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq
                         withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *)record {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(self, rcRecReq, record);
}

- (jboolean)areRCChangesComplete {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_areRCChangesComplete(self);
}

- (NSString *)areRCChangesCompleteDebug {
  jlong t0 = JavaLangSystem_currentTimeMillis();
  id<JavaUtilMap> newRCGroups = [self getNewRCGroups];
  jboolean rcComplete = true;
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  NSString *debug = @"";
  for (NSString * __strong newRCGroup in nil_chk([((id<JavaUtilMap>) nil_chk(newRCGroups)) keySet])) {
    EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = [self getReconfigurationRecordWithNSString:newRCGroup];
    rcComplete = (rcComplete && record != nil && ((([record getEpoch] == [((JavaLangInteger *) nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getRCEpochWithId:[((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) valueOfWithNSString:newRCGroup]])) intValue]) && (([record isReconfigurationReady] && [((id<JavaUtilSet>) nil_chk([newRCGroups getWithId:newRCGroup])) isEqual:[record getActiveReplicas]] && [record areMergesAllDone]) || ([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates *) nil_chk([record getState])) isEqual:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_STOP)]))) || ([record getEpoch] - [((JavaLangInteger *) nil_chk([ncRecord getRCEpochWithNSString:newRCGroup])) intValue] > 0)));
    if (!rcComplete) {
      JreStrAppend(&debug, "$", (record != nil) ? JreStrcat("$$", [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(record)) getSummary], ([record isReady] ? JreStrcat("$@C@C@", @"->", [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getRCEpochWithNSString:newRCGroup], ':', JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY), ':', [newRCGroups getWithId:newRCGroup]) : @"")) : @"record = null");
      break;
    }
  }
  if (!rcComplete) [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0}:{1} has not completed all constituent RC group changes yet, e.g., {2}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getSummary], debug } count:3 type:NSObject_class_()]];
  EduUmassCsUtilsDelayProfiler_updateDelayWithNSString_withDouble_(@"isNodeConfigChangeComplete", t0);
  return debug;
}

- (id<JavaUtilMap>)getNewRCGroups {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  return [self getRCGroupsWithId:EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self) withJavaUtilSet:[((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getNewActives]];
}

- (id<JavaUtilMap>)getOldRCGroups {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  return [self getRCGroupsWithId:EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self) withJavaUtilSet:[((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getActiveReplicas]];
}

- (id<JavaUtilSet>)getMergeListWithNSString:(NSString *)newRCGroupName {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  id<JavaUtilSet> deletedNodes = EduUmassCsReconfigurationAbstractReconfiguratorDB_diffWithJavaUtilSet_withJavaUtilSet_(self, [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getActiveReplicas], [ncRecord getNewActives]);
  id<JavaUtilSet> mergees = create_JavaUtilHashSet_init();
  for (id __strong deletedNode in nil_chk(deletedNodes)) {
    NSString *merger = [self getRCGroupNameWithId:[((JavaUtilArrayList *) nil_chk([((EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *) nil_chk([self getNewConsistentHashRing])) getReplicatedServersArrayWithNSString:[self getRCGroupNameWithId:deletedNode]])) getWithInt:0]];
    if ([((NSString *) nil_chk(merger)) isEqual:newRCGroupName]) [mergees addWithId:[self getRCGroupNameWithId:deletedNode]];
  }
  if (![mergees isEmpty]) [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0} merging list of mergees {1}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, mergees } count:2 type:NSObject_class_()]];
  return mergees;
}

- (JavaUtilHashMap *)getMergeLists {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  id<JavaUtilSet> deletedNodes = EduUmassCsReconfigurationAbstractReconfiguratorDB_diffWithJavaUtilSet_withJavaUtilSet_(self, [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getActiveReplicas], [ncRecord getNewActives]);
  JavaUtilHashMap *mergeLists = create_JavaUtilHashMap_init();
  for (id __strong deletedNode in nil_chk(deletedNodes)) {
    NSString *merger = [self getRCGroupNameWithId:[((JavaUtilArrayList *) nil_chk([((EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *) nil_chk([self getNewConsistentHashRing])) getReplicatedServersArrayWithNSString:[self getRCGroupNameWithId:deletedNode]])) getWithInt:0]];
    if (![mergeLists containsKeyWithId:merger]) [mergeLists putWithId:merger withId:create_JavaUtilHashSet_init()];
    id<JavaUtilSet> mergees = [mergeLists getWithId:merger];
    [((id<JavaUtilSet>) nil_chk(mergees)) addWithId:[self getRCGroupNameWithId:deletedNode]];
    [mergeLists putWithId:merger withId:mergees];
  }
  return mergeLists;
}

- (id<JavaUtilSet>)diffWithJavaUtilSet:(id<JavaUtilSet>)s1
                       withJavaUtilSet:(id<JavaUtilSet>)s2 {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_diffWithJavaUtilSet_withJavaUtilSet_(self, s1, s2);
}

- (id<JavaUtilMap>)getRCGroupsWithId:(id)rc
                     withJavaUtilSet:(id<JavaUtilSet>)allRCs
                         withBoolean:(jboolean)print {
  JreAssert(((rc != nil && allRCs != nil)), (@"edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.java:648 condition failed: assert (rc != null && allRCs != null);"));
  EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *newRCCH = create_EduUmassCsReconfigurationReconfigurationutilsConsistentHashing_initWithJavaUtilSet_(allRCs);
  JavaUtilHashMap *groups = create_JavaUtilHashMap_init();
  NSString *s = JreStrcat("$@$@$", @"RC groups with ", allRCs, @" at ", EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self), @" = ");
  for (id __strong node in nil_chk(allRCs)) {
    id<JavaUtilSet> group = [newRCCH getReplicatedServersWithNSString:[nil_chk(node) description]];
    if ([((id<JavaUtilSet>) nil_chk(group)) containsWithId:rc]) {
      JreStrAppend(&s, "$$$", @" [", (JreStrcat("@C@", node, ':', group)), @"] ");
      [groups putWithId:[self getRCGroupNameWithId:node] withId:group];
    }
  }
  if (print) [((JavaIoPrintStream *) nil_chk(JreLoadStatic(JavaLangSystem, out))) printlnWithNSString:JreStrcat("$C", s, 0x000a)];
  return groups;
}

- (id<JavaUtilMap>)getRCGroupsWithId:(id)rc
                     withJavaUtilSet:(id<JavaUtilSet>)allRCs {
  return [self getRCGroupsWithId:rc withJavaUtilSet:allRCs withBoolean:false];
}

- (id)getMyID {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self);
}

- (jboolean)selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:(EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *)rcRecReq {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_(self, rcRecReq);
}

- (void)selfNotify {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_selfNotify(self);
}

- (jboolean)handleStopEpochWithEduUmassCsReconfigurationReconfigurationpacketsStopEpoch:(EduUmassCsReconfigurationReconfigurationpacketsStopEpoch *)stopEpoch
                                                                            withBoolean:(jboolean)recovery {
  [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsReconfigurationAbstractReconfiguratorDB_log)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, INFO) withNSString:@"{0} stop-executed {1}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ self, [((EduUmassCsReconfigurationReconfigurationpacketsStopEpoch *) nil_chk(stopEpoch)) getSummary] } count:2 type:NSObject_class_()]];
  [self clearMergedWithNSString:[stopEpoch getServiceName] withInt:[stopEpoch getEpochNumber]];
  return true;
}

- (jboolean)handleRequestActiveReplicasWithEduUmassCsReconfigurationReconfigurationpacketsRequestActiveReplicas:(EduUmassCsReconfigurationReconfigurationpacketsRequestActiveReplicas *)requestActives
                                                                                                    withBoolean:(jboolean)recovery {
  return true;
}

- (NSString *)getRCGroupNameWithId:(id)node {
  return [nil_chk(node) description];
}

- (NSString *)getRCGroupNameWithNSString:(NSString *)name {
  if ([((NSString *) nil_chk(name)) isEqual:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]]) return name;
  else if ([name isEqual:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, AR_NODES))) description]]) return [JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES) description];
  else if ([self isRCGroupNameWithNSString:name]) return name;
  else return [self getRCGroupNameWithId:[((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) getFirstReconfiguratorWithNSString:name]];
}

- (jboolean)isRCGroupNameWithNSString:(NSString *)name {
  for (id __strong rc in nil_chk([((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) getReconfigurators])) if ([((NSString *) nil_chk([self getRCGroupNameWithId:rc])) isEqual:name]) return true;
  return false;
}

- (jboolean)updateDBNodeConfigWithInt:(jint)version_ {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  jboolean added = true;
  for (id __strong rc in nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getNewActives])) {
    JreAssert((([((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) getNodeSocketAddressWithId:rc] != nil)), (JreStrcat("@$@", EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self), @" had no socket addres for ", rc)));
    added = (added && [self addReconfiguratorWithId:rc withJavaNetInetSocketAddress:[self->consistentNodeConfig_ getNodeSocketAddressWithId:rc] withInt:version_]);
  }
  return added;
}

- (jboolean)updateActiveDBNodeConfigWithInt:(jint)version_ {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ancRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, AR_NODES))) description]];
  jboolean added = true;
  for (id __strong active in nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ancRecord)) getNewActives])) {
    JreAssert((([((EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *) nil_chk(self->consistentNodeConfig_)) getNodeSocketAddressWithId:active] != nil)), (JreStrcat("@$@", EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(self), @" had no socket addres for ", active)));
    added = (added && [self addActiveReplicaWithId:active withJavaNetInetSocketAddress:[self->consistentNodeConfig_ getNodeSocketAddressWithId:active] withInt:version_]);
  }
  return added;
}

- (id<JavaUtilSet>)setRCEpochsWithJavaUtilSet:(id<JavaUtilSet>)addNodes
                              withJavaUtilSet:(id<JavaUtilSet>)deleteNodes {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  JreAssert(((![((id<JavaUtilSet>) nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getActiveReplicas])) isEqual:[ncRecord getNewActives]])), (JreStrcat("@$@", self, @" : ", ncRecord)));
  id<JavaUtilSet> affectedNodes = create_JavaUtilHashSet_init();
  for (id __strong addNode in nil_chk(addNodes)) {
    [affectedNodes addWithId:addNode];
    for (id __strong oldNode in nil_chk([ncRecord getActiveReplicas])) if ([self isAffectedWithId:oldNode withId:addNode]) [affectedNodes addWithId:oldNode];
  }
  for (id __strong deleteNode in nil_chk(deleteNodes)) for (id __strong oldNode in nil_chk([ncRecord getActiveReplicas])) if ([self isAffectedWithId:oldNode withId:deleteNode]) [affectedNodes addWithId:oldNode];
  [ncRecord setRCEpochsWithJavaUtilSet:affectedNodes withJavaUtilSet:addNodes withJavaUtilSet:deleteNodes];
  [self setRCEpochsWithEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:ncRecord];
  return affectedNodes;
}

- (jboolean)isAffectedWithId:(id)rcNode
                      withId:(id)addOrDelNode {
  if (addOrDelNode == nil) return false;
  jboolean affected = false;
  EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *oldRing = [self getOldConsistentHashRing];
  id hashNode = [((JavaUtilArrayList *) nil_chk([((EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *) nil_chk(oldRing)) getReplicatedServersArrayWithNSString:[self getRCGroupNameWithId:addOrDelNode]])) getWithInt:0];
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  for (id __strong oldNode in nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getActiveReplicas])) {
    if ([((id<JavaUtilSet>) nil_chk([oldRing getReplicatedServersWithNSString:[self getRCGroupNameWithId:oldNode]])) containsWithId:hashNode]) {
      affected = true;
    }
  }
  return affected;
}

- (EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *)getOldConsistentHashRing {
  return create_EduUmassCsReconfigurationReconfigurationutilsConsistentHashing_initWithJavaUtilSet_([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk([self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]])) getActiveReplicas]);
}

- (EduUmassCsReconfigurationReconfigurationutilsConsistentHashing *)getNewConsistentHashRing {
  return create_EduUmassCsReconfigurationReconfigurationutilsConsistentHashing_initWithJavaUtilSet_([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk([self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]])) getNewActives]);
}

- (id<JavaUtilSet>)getMutualAuthRequestTypes {
  return EduUmassCsGigapaxosInterfacesAppRequestParser_getMutualAuthRequestTypes(self);
}

- (id<EduUmassCsGigapaxosInterfacesRequest>)getRequestWithByteArray:(IOSByteArray *)arg0
                                 withEduUmassCsNioNioutilsNIOHeader:(EduUmassCsNioNioutilsNIOHeader *)arg1 {
  return EduUmassCsGigapaxosInterfacesAppRequestParser_getRequestWithByteArray_withEduUmassCsNioNioutilsNIOHeader_(self, arg0, arg1);
}

- (id<JavaUtilSet>)getServerAuthRequestTypes {
  return EduUmassCsGigapaxosInterfacesAppRequestParser_getServerAuthRequestTypes(self);
}

- (void)dealloc {
  RELEASE_(myID_);
  RELEASE_(consistentNodeConfig_);
  RELEASE_(callback_);
  RELEASE_(blockingRequest_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord;", 0x1, 2, 3, -1, 4, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord;", 0x4, 5, 6, -1, 7, -1, -1 },
    { NULL, "Z", 0x1, 8, 9, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1c, 10, 11, -1, 12, -1, -1 },
    { NULL, "Z", 0x2, 13, 14, -1, 15, -1, -1 },
    { NULL, "Z", 0x1, 16, 17, -1, 18, -1, -1 },
    { NULL, "V", 0x1, 19, 20, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 21, 22, -1, 23, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 24, 25, -1, 26, -1, -1 },
    { NULL, "Z", 0x2, 27, 28, -1, 29, -1, -1 },
    { NULL, "LNSString;", 0x1, 30, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 8, 31, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosInterfacesRequest;", 0x1, 32, 6, 33, -1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosInterfacesRequest;", 0x1c, 34, 6, -1, -1, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x1, -1, -1, -1, 35, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationInterfacesReconfigurableRequest;", 0x1, 36, 3, -1, -1, -1, -1 },
    { NULL, "LJavaLangInteger;", 0x21, 37, 6, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 38, 3, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 39, 40, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 41, 3, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 42, 25, -1, 26, -1, -1 },
    { NULL, "Z", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x4, -1, -1, -1, 43, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x4, -1, -1, -1, 43, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x4, 44, 6, -1, 45, -1, -1 },
    { NULL, "LJavaUtilHashMap;", 0x4, -1, -1, -1, 46, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x2, 47, 28, -1, 48, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x4, 49, 50, -1, 51, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x4, 49, 52, -1, 53, -1, -1 },
    { NULL, "LNSObject;", 0x2, -1, -1, -1, 54, -1, -1 },
    { NULL, "Z", 0x22, 55, 56, -1, 57, -1, -1 },
    { NULL, "V", 0x22, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 58, 59, -1, 60, -1, -1 },
    { NULL, "Z", 0x4, 61, 62, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x4, 63, 64, -1, 65, -1, -1 },
    { NULL, "LNSString;", 0x4, 63, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 66, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 67, 68, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 69, 68, -1, -1, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x4, 70, 28, -1, 48, -1, -1 },
    { NULL, "Z", 0x4, 71, 72, -1, 73, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationReconfigurationutilsConsistentHashing;", 0x4, -1, -1, -1, 74, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationReconfigurationutilsConsistentHashing;", 0x4, -1, -1, -1, 74, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithId:withEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig:);
  methods[1].selector = @selector(getReconfigurationRecordWithNSString:withInt:);
  methods[2].selector = @selector(createRecordWithNSString:);
  methods[3].selector = @selector(executeWithEduUmassCsGigapaxosInterfacesRequest:withBoolean:);
  methods[4].selector = @selector(autoInvokeMethodWithId:withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:withBoolean:withEduUmassCsNioInterfacesStringifiable:);
  methods[5].selector = @selector(uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:withBoolean:);
  methods[6].selector = @selector(handleDemandReportWithEduUmassCsReconfigurationReconfigurationpacketsDemandReport:);
  methods[7].selector = @selector(setCallbackWithEduUmassCsReconfigurationInterfacesReconfiguratorCallback:);
  methods[8].selector = @selector(handleRCRecordRequestWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:withBoolean:);
  methods[9].selector = @selector(assertMergesAllDone);
  methods[10].selector = @selector(isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:);
  methods[11].selector = @selector(differByOneWithJavaUtilSet:withJavaUtilSet:);
  methods[12].selector = @selector(description);
  methods[13].selector = @selector(executeWithEduUmassCsGigapaxosInterfacesRequest:);
  methods[14].selector = @selector(getRequestWithNSString:);
  methods[15].selector = @selector(getNoopRequestWithNSString:);
  methods[16].selector = @selector(getRequestTypes);
  methods[17].selector = @selector(getStopRequestWithNSString:withInt:);
  methods[18].selector = @selector(getEpochWithNSString:);
  methods[19].selector = @selector(getFinalStateWithNSString:withInt:);
  methods[20].selector = @selector(putInitialStateWithNSString:withInt:withNSString:);
  methods[21].selector = @selector(deleteFinalStateWithNSString:withInt:);
  methods[22].selector = @selector(isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord:);
  methods[23].selector = @selector(areRCChangesComplete);
  methods[24].selector = @selector(areRCChangesCompleteDebug);
  methods[25].selector = @selector(getNewRCGroups);
  methods[26].selector = @selector(getOldRCGroups);
  methods[27].selector = @selector(getMergeListWithNSString:);
  methods[28].selector = @selector(getMergeLists);
  methods[29].selector = @selector(diffWithJavaUtilSet:withJavaUtilSet:);
  methods[30].selector = @selector(getRCGroupsWithId:withJavaUtilSet:withBoolean:);
  methods[31].selector = @selector(getRCGroupsWithId:withJavaUtilSet:);
  methods[32].selector = @selector(getMyID);
  methods[33].selector = @selector(selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:);
  methods[34].selector = @selector(selfNotify);
  methods[35].selector = @selector(handleStopEpochWithEduUmassCsReconfigurationReconfigurationpacketsStopEpoch:withBoolean:);
  methods[36].selector = @selector(handleRequestActiveReplicasWithEduUmassCsReconfigurationReconfigurationpacketsRequestActiveReplicas:withBoolean:);
  methods[37].selector = @selector(getRCGroupNameWithId:);
  methods[38].selector = @selector(getRCGroupNameWithNSString:);
  methods[39].selector = @selector(isRCGroupNameWithNSString:);
  methods[40].selector = @selector(updateDBNodeConfigWithInt:);
  methods[41].selector = @selector(updateActiveDBNodeConfigWithInt:);
  methods[42].selector = @selector(setRCEpochsWithJavaUtilSet:withJavaUtilSet:);
  methods[43].selector = @selector(isAffectedWithId:withId:);
  methods[44].selector = @selector(getOldConsistentHashRing);
  methods[45].selector = @selector(getNewConsistentHashRing);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "myID_", "LNSObject;", .constantValue.asLong = 0, 0x14, -1, -1, 75, -1 },
    { "consistentNodeConfig_", "LEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig;", .constantValue.asLong = 0, 0x14, -1, -1, 76, -1 },
    { "recovering_", "Z", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "log", "LJavaUtilLoggingLogger;", .constantValue.asLong = 0, 0x1a, -1, 77, -1, -1 },
    { "callback_", "LEduUmassCsReconfigurationInterfacesReconfiguratorCallback;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "TWO_PAXOS_RC", "Z", .constantValue.asLong = 0, 0x1c, -1, 78, -1, -1 },
    { "blockingRequest_", "LEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest;", .constantValue.asLong = 0, 0x2, -1, -1, 79, -1 },
  };
  static const void *ptrTable[] = { "LNSObject;LEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig;", "(TNodeIDType;Ledu/umass/cs/reconfiguration/reconfigurationutils/ConsistentReconfigurableNodeConfig<TNodeIDType;>;)V", "getReconfigurationRecord", "LNSString;I", "(Ljava/lang/String;I)Ledu/umass/cs/reconfiguration/reconfigurationutils/ReconfigurationRecord<TNodeIDType;>;", "createRecord", "LNSString;", "(Ljava/lang/String;)Ledu/umass/cs/reconfiguration/reconfigurationutils/ReconfigurationRecord<TNodeIDType;>;", "execute", "LEduUmassCsGigapaxosInterfacesRequest;Z", "autoInvokeMethod", "LNSObject;LEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket;ZLEduUmassCsNioInterfacesStringifiable;", "(Ljava/lang/Object;Ledu/umass/cs/reconfiguration/reconfigurationpackets/BasicReconfigurationPacket<*>;ZLedu/umass/cs/nio/interfaces/Stringifiable<*>;)Ljava/lang/Object;", "uglyRecoveryHack", "LEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket;Z", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/BasicReconfigurationPacket<TNodeIDType;>;Z)Z", "handleDemandReport", "LEduUmassCsReconfigurationReconfigurationpacketsDemandReport;", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/DemandReport<TNodeIDType;>;)Z", "setCallback", "LEduUmassCsReconfigurationInterfacesReconfiguratorCallback;", "handleRCRecordRequest", "LEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest;Z", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/RCRecordRequest<TNodeIDType;>;Z)Z", "isLegitimateNodeConfigChange", "LEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest;LEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord;", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/RCRecordRequest<TNodeIDType;>;Ledu/umass/cs/reconfiguration/reconfigurationutils/ReconfigurationRecord<TNodeIDType;>;)Z", "differByOne", "LJavaUtilSet;LJavaUtilSet;", "(Ljava/util/Set<TNodeIDType;>;Ljava/util/Set<TNodeIDType;>;)Z", "toString", "LEduUmassCsGigapaxosInterfacesRequest;", "getRequest", "LEduUmassCsReconfigurationReconfigurationutilsRequestParseException;", "getNoopRequest", "()Ljava/util/Set<Ledu/umass/cs/nio/interfaces/IntegerPacketType;>;", "getStopRequest", "getEpoch", "getFinalState", "putInitialState", "LNSString;ILNSString;", "deleteFinalState", "isLegitTransition", "()Ljava/util/Map<Ljava/lang/String;Ljava/util/Set<TNodeIDType;>;>;", "getMergeList", "(Ljava/lang/String;)Ljava/util/Set<Ljava/lang/String;>;", "()Ljava/util/HashMap<Ljava/lang/String;Ljava/util/Set<Ljava/lang/String;>;>;", "diff", "(Ljava/util/Set<TNodeIDType;>;Ljava/util/Set<TNodeIDType;>;)Ljava/util/Set<TNodeIDType;>;", "getRCGroups", "LNSObject;LJavaUtilSet;Z", "(TNodeIDType;Ljava/util/Set<TNodeIDType;>;Z)Ljava/util/Map<Ljava/lang/String;Ljava/util/Set<TNodeIDType;>;>;", "LNSObject;LJavaUtilSet;", "(TNodeIDType;Ljava/util/Set<TNodeIDType;>;)Ljava/util/Map<Ljava/lang/String;Ljava/util/Set<TNodeIDType;>;>;", "()TNodeIDType;", "selfWait", "LEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest;", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/RCRecordRequest<TNodeIDType;>;)Z", "handleStopEpoch", "LEduUmassCsReconfigurationReconfigurationpacketsStopEpoch;Z", "(Ledu/umass/cs/reconfiguration/reconfigurationpackets/StopEpoch<TNodeIDType;>;Z)Z", "handleRequestActiveReplicas", "LEduUmassCsReconfigurationReconfigurationpacketsRequestActiveReplicas;Z", "getRCGroupName", "LNSObject;", "(TNodeIDType;)Ljava/lang/String;", "isRCGroupName", "updateDBNodeConfig", "I", "updateActiveDBNodeConfig", "setRCEpochs", "isAffected", "LNSObject;LNSObject;", "(TNodeIDType;TNodeIDType;)Z", "()Ledu/umass/cs/reconfiguration/reconfigurationutils/ConsistentHashing<TNodeIDType;>;", "TNodeIDType;", "Ledu/umass/cs/reconfiguration/reconfigurationutils/ConsistentReconfigurableNodeConfig<TNodeIDType;>;", &EduUmassCsReconfigurationAbstractReconfiguratorDB_log, &EduUmassCsReconfigurationAbstractReconfiguratorDB_TWO_PAXOS_RC, "Ledu/umass/cs/reconfiguration/reconfigurationpackets/RCRecordRequest<TNodeIDType;>;", "LEduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;", "<NodeIDType:Ljava/lang/Object;>Ljava/lang/Object;Ledu/umass/cs/reconfiguration/interfaces/Repliconfigurable;Ledu/umass/cs/reconfiguration/interfaces/ReconfiguratorDB<TNodeIDType;>;" };
  static const J2ObjcClassInfo _EduUmassCsReconfigurationAbstractReconfiguratorDB = { "AbstractReconfiguratorDB", "edu.umass.cs.reconfiguration", ptrTable, methods, fields, 7, 0x401, 46, 7, -1, 80, -1, 81, -1 };
  return &_EduUmassCsReconfigurationAbstractReconfiguratorDB;
}

+ (void)initialize {
  if (self == [EduUmassCsReconfigurationAbstractReconfiguratorDB class]) {
    JreStrongAssign(&EduUmassCsReconfigurationAbstractReconfiguratorDB_log, (EduUmassCsReconfigurationReconfigurationConfig_getLogger()));
    EduUmassCsReconfigurationAbstractReconfiguratorDB_TWO_PAXOS_RC = EduUmassCsUtilsConfig_getGlobalBooleanWithJavaLangEnum_(JreLoadEnum(EduUmassCsReconfigurationReconfigurationConfig_RC, TWO_PAXOS_RC));
    J2OBJC_SET_INITIALIZED(EduUmassCsReconfigurationAbstractReconfiguratorDB)
  }
}

@end

void EduUmassCsReconfigurationAbstractReconfiguratorDB_initWithId_withEduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, id myID, EduUmassCsReconfigurationReconfigurationutilsConsistentReconfigurableNodeConfig *nc) {
  NSObject_init(self);
  self->recovering_ = true;
  JreStrongAssign(&self->callback_, nil);
  JreStrongAssign(&self->blockingRequest_, nil);
  JreStrongAssign(&self->myID_, myID);
  JreStrongAssign(&self->consistentNodeConfig_, nc);
}

id EduUmassCsReconfigurationAbstractReconfiguratorDB_autoInvokeMethodWithId_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_withEduUmassCsNioInterfacesStringifiable_(id target, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *rcPacket, jboolean recovery, id<EduUmassCsNioInterfacesStringifiable> unstringer) {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_initialize();
  @try {
    return [((JavaLangReflectMethod *) nil_chk([[nil_chk(target) java_getClass] getMethod:JreStrcat("$$", EduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_HANDLER_METHOD_PREFIX, EduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_getPacketTypeClassNameWithEduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_PacketType_([((EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *) nil_chk(rcPacket)) getType])) parameterTypes:[IOSObjectArray arrayWithObjects:(id[]){ EduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_getPacketTypeClassWithEduUmassCsReconfigurationReconfigurationpacketsReconfigurationPacket_PacketType_([rcPacket getType]), [IOSClass booleanClass] } count:2 type:IOSClass_class_()]])) invokeWithId:target withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ rcPacket, JavaLangBoolean_valueOfWithBoolean_(recovery) } count:2 type:NSObject_class_()]];
  }
  @catch (JavaLangNoSuchMethodException *nsme) {
    [((JavaLangNoSuchMethodException *) nil_chk(nsme)) printStackTrace];
  }
  @catch (JavaLangReflectInvocationTargetException *ite) {
    [((JavaLangReflectInvocationTargetException *) nil_chk(ite)) printStackTrace];
  }
  @catch (JavaLangIllegalAccessException *iae) {
    [((JavaLangIllegalAccessException *) nil_chk(iae)) printStackTrace];
  }
  return nil;
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *rcPacket, jboolean recovering) {
  if (recovering && [((NSString *) nil_chk([((EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *) nil_chk(rcPacket)) getServiceName])) isEqual:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]]) {
    [(create_JavaLangThread_initWithJavaLangRunnable_(create_EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(self, rcPacket, recovering))) start];
    return true;
  }
  return false;
}

void EduUmassCsReconfigurationAbstractReconfiguratorDB_assertMergesAllDone(EduUmassCsReconfigurationAbstractReconfiguratorDB *self) {
  EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *ncRecord = [self getReconfigurationRecordWithNSString:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]];
  for (id __strong rcNode in nil_chk([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(ncRecord)) getNewActives])) {
    EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record = [self getReconfigurationRecordWithNSString:[self getRCGroupNameWithId:rcNode] withInt:[((JavaLangInteger *) nil_chk([ncRecord getRCEpochWithNSString:[self getRCGroupNameWithId:rcNode]])) intValue]];
    JreAssert(((record == nil || [record areMergesAllDone])), (@"edu/umass/cs/reconfiguration/AbstractReconfiguratorDB.java:358 condition failed: assert (record == null || record.areMergesAllDone());"));
  }
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitimateNodeConfigChangeWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq, EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record) {
  if (![((NSString *) nil_chk([((EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *) nil_chk(rcRecReq)) getServiceName])) isEqual:[((EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *) nil_chk(JreLoadEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES))) description]]) return true;
  jboolean consistent = [((id<JavaUtilSet>) nil_chk([((EduUmassCsReconfigurationReconfigurationpacketsStartEpoch *) nil_chk(rcRecReq->startEpoch_)) getPrevEpochGroup])) isEqual:[((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(record)) getActiveReplicas]];
  id<JavaUtilSet> oldGroup = [rcRecReq->startEpoch_ getPrevEpochGroup];
  id<JavaUtilSet> newGroup = [rcRecReq->startEpoch_ getCurEpochGroup];
  consistent = (consistent && EduUmassCsReconfigurationAbstractReconfiguratorDB_differByOneWithJavaUtilSet_withJavaUtilSet_(self, oldGroup, newGroup));
  return consistent;
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_differByOneWithJavaUtilSet_withJavaUtilSet_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, id<JavaUtilSet> s1, id<JavaUtilSet> s2) {
  return ([((id<JavaUtilSet>) nil_chk(s1)) containsAllWithJavaUtilCollection:s2] && ([s1 size] == ([((id<JavaUtilSet>) nil_chk(s2)) size] + 1))) || ([((id<JavaUtilSet>) nil_chk(s2)) containsAllWithJavaUtilCollection:s1] && ([s2 size] == ([s1 size] + 1)));
}

id<EduUmassCsGigapaxosInterfacesRequest> EduUmassCsReconfigurationAbstractReconfiguratorDB_getNoopRequestWithNSString_(NSString *stringified) {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_initialize();
  if ([((NSString *) nil_chk(stringified)) isEqual:EduUmassCsGigapaxosInterfacesRequest_NO_OP]) {
    return create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init();
  }
  return nil;
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_isLegitTransitionWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_withEduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq, EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *record) {
  JreAssert(((record != nil)), (rcRecReq));
  if ([((EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *) nil_chk(rcRecReq)) getEpochNumber] - [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord *) nil_chk(record)) getEpoch] < 0) return false;
  if ([rcRecReq getEpochNumber] - [record getEpoch] >= 1) {
    return ([record isReconfigurationReady] && [rcRecReq isReconfigurationIntent]) || (([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates *) nil_chk([record getState])) isEqual:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_STOP)] || (EduUmassCsReconfigurationReconfigurationConfig_isAggregatedMergeSplit() && [((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates *) nil_chk([record getState])) isEqual:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, READY)])) && ([rcRecReq isReconfigurationComplete] || [((EduUmassCsReconfigurationReconfigurationpacketsStartEpoch *) nil_chk(rcRecReq->startEpoch_)) isBatchedCreate])) || !EduUmassCsReconfigurationAbstractReconfiguratorDB_TWO_PAXOS_RC;
  }
  if ([rcRecReq getEpochNumber] - [record getEpoch] == 0) {
    return ([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates *) nil_chk([record getState])) isEqual:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_ACK_START)] && [rcRecReq isReconfigurationComplete]) || ([record isReady] && ([rcRecReq isReconfigurationMerge] || [rcRecReq isReconfigurationPrevDropComplete])) || ([((EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates *) nil_chk([record getState])) isEqual:JreLoadEnum(EduUmassCsReconfigurationReconfigurationutilsReconfigurationRecord_RCStates, WAIT_DELETE)] && [rcRecReq isReconfigurationPrevDropComplete]);
  }
  return false;
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_areRCChangesComplete(EduUmassCsReconfigurationAbstractReconfiguratorDB *self) {
  return [((NSString *) nil_chk([self areRCChangesCompleteDebug])) java_isEmpty];
}

id<JavaUtilSet> EduUmassCsReconfigurationAbstractReconfiguratorDB_diffWithJavaUtilSet_withJavaUtilSet_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, id<JavaUtilSet> s1, id<JavaUtilSet> s2) {
  id<JavaUtilSet> diff = create_JavaUtilHashSet_init();
  for (id __strong node in nil_chk(s1)) if (![((id<JavaUtilSet>) nil_chk(s2)) containsWithId:node]) [diff addWithId:node];
  return diff;
}

id EduUmassCsReconfigurationAbstractReconfiguratorDB_getMyID(EduUmassCsReconfigurationAbstractReconfiguratorDB *self) {
  return self->myID_;
}

jboolean EduUmassCsReconfigurationAbstractReconfiguratorDB_selfWaitWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest_(EduUmassCsReconfigurationAbstractReconfiguratorDB *self, EduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest *rcRecReq) {
  @synchronized(self) {
    if (!EduUmassCsReconfigurationAbstractReconfiguratorDB_areRCChangesComplete(self)) {
      JreStrongAssign(&self->blockingRequest_, rcRecReq);
      return true;
    }
    else JreStrongAssign(&self->blockingRequest_, nil);
    @try {
      while (!EduUmassCsReconfigurationAbstractReconfiguratorDB_areRCChangesComplete(self)) {
        [self java_waitWithLong:5000];
        ;
      }
    }
    @catch (JavaLangInterruptedException *e) {
      [((JavaLangInterruptedException *) nil_chk(e)) printStackTrace];
    }
    return false;
  }
}

void EduUmassCsReconfigurationAbstractReconfiguratorDB_selfNotify(EduUmassCsReconfigurationAbstractReconfiguratorDB *self) {
  @synchronized(self) {
    if (self->blockingRequest_ != nil) {
      [self handleRCRecordRequestWithEduUmassCsReconfigurationReconfigurationpacketsRCRecordRequest:self->blockingRequest_ withBoolean:false];
    }
    [self java_notifyAll];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsReconfigurationAbstractReconfiguratorDB)

J2OBJC_INITIALIZED_DEFN(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames)

EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values_[2];

@implementation EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames

+ (IOSObjectArray *)values {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values();
}

+ (EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *)valueOfWithNSString:(NSString *)name {
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_valueOfWithNSString_(name);
}

- (id)copyWithZone:(NSZone *)zone {
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "[LEduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;", 0x9, -1, -1, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;", 0x9, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(values);
  methods[1].selector = @selector(valueOfWithNSString:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "RC_NODES", "LEduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;", .constantValue.asLong = 0, 0x4019, -1, 2, -1, -1 },
    { "AR_NODES", "LEduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;", .constantValue.asLong = 0, 0x4019, -1, 3, -1, -1 },
  };
  static const void *ptrTable[] = { "valueOf", "LNSString;", &JreEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, RC_NODES), &JreEnum(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames, AR_NODES), "LEduUmassCsReconfigurationAbstractReconfiguratorDB;", "Ljava/lang/Enum<Ledu/umass/cs/reconfiguration/AbstractReconfiguratorDB$RecordNames;>;" };
  static const J2ObjcClassInfo _EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames = { "RecordNames", "edu.umass.cs.reconfiguration", ptrTable, methods, fields, 7, 0x4019, 2, 2, 4, -1, -1, 5, -1 };
  return &_EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames;
}

+ (void)initialize {
  if (self == [EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames class]) {
    size_t objSize = class_getInstanceSize(self);
    size_t allocSize = 2 * objSize;
    uintptr_t ptr = (uintptr_t)calloc(allocSize, 1);
    id e;
    id names[] = {
      @"RC_NODES", @"AR_NODES",
    };
    for (jint i = 0; i < 2; i++) {
      (EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values_[i] = e = objc_constructInstance(self, (void *)ptr), ptr += objSize);
      EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initWithNSString_withInt_(e, names[i], i);
    }
    J2OBJC_SET_INITIALIZED(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames)
  }
}

@end

void EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initWithNSString_withInt_(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

IOSObjectArray *EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values() {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initialize();
  return [IOSObjectArray arrayWithObjects:EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values_ count:2 type:EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_class_()];
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_valueOfWithNSString_(NSString *name) {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initialize();
  for (int i = 0; i < 2; i++) {
    EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *e = EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw create_JavaLangIllegalArgumentException_initWithNSString_(name);
  return nil;
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames *EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_fromOrdinal(NSUInteger ordinal) {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_initialize();
  if (ordinal >= 2) {
    return nil;
  }
  return EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames_values_[ordinal];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsReconfigurationAbstractReconfiguratorDB_RecordNames)

@implementation EduUmassCsReconfigurationAbstractReconfiguratorDB_1

- (instancetype)initWithEduUmassCsReconfigurationAbstractReconfiguratorDB:(EduUmassCsReconfigurationAbstractReconfiguratorDB *)outer$
withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:(EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *)capture$0
                                                              withBoolean:(jboolean)capture$1 {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(self, outer$, capture$0, capture$1);
  return self;
}

- (void)run {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_autoInvokeMethodWithId_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_withEduUmassCsNioInterfacesStringifiable_(this$0_, val$rcPacket_, val$recovering_, this$0_->consistentNodeConfig_);
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$rcPacket_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithEduUmassCsReconfigurationAbstractReconfiguratorDB:withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:withBoolean:);
  methods[1].selector = @selector(run);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LEduUmassCsReconfigurationAbstractReconfiguratorDB;", .constantValue.asLong = 0, 0x1012, -1, -1, 0, -1 },
    { "val$rcPacket_", "LEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket;", .constantValue.asLong = 0, 0x1012, -1, -1, 1, -1 },
    { "val$recovering_", "Z", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "Ledu/umass/cs/reconfiguration/AbstractReconfiguratorDB<TNodeIDType;>;", "Ledu/umass/cs/reconfiguration/reconfigurationpackets/BasicReconfigurationPacket<TNodeIDType;>;", "LEduUmassCsReconfigurationAbstractReconfiguratorDB;", "uglyRecoveryHackWithEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket:withBoolean:" };
  static const J2ObjcClassInfo _EduUmassCsReconfigurationAbstractReconfiguratorDB_1 = { "", "edu.umass.cs.reconfiguration", ptrTable, methods, fields, 7, 0x8008, 2, 3, 2, -1, 3, -1, -1 };
  return &_EduUmassCsReconfigurationAbstractReconfiguratorDB_1;
}

@end

void EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *self, EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$rcPacket_, capture$0);
  self->val$recovering_ = capture$1;
  NSObject_init(self);
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1) {
  J2OBJC_NEW_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_1, initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_, outer$, capture$0, capture$1)
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_1 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_1_initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_(EduUmassCsReconfigurationAbstractReconfiguratorDB *outer$, EduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket *capture$0, jboolean capture$1) {
  J2OBJC_CREATE_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_1, initWithEduUmassCsReconfigurationAbstractReconfiguratorDB_withEduUmassCsReconfigurationReconfigurationpacketsBasicReconfigurationPacket_withBoolean_, outer$, capture$0, capture$1)
}

@implementation EduUmassCsReconfigurationAbstractReconfiguratorDB_2

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (id<EduUmassCsNioInterfacesIntegerPacketType>)getRequestType {
  return create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init();
}

- (NSString *)getServiceName {
  return EduUmassCsGigapaxosInterfacesRequest_NO_OP;
}

- (NSString *)description {
  return EduUmassCsGigapaxosInterfacesRequest_NO_OP;
}

- (id)getSummary {
  return EduUmassCsGigapaxosInterfacesRequest_getSummary(self);
}

- (IOSByteArray *)toBytes {
  return EduUmassCsGigapaxosInterfacesRequest_toBytes(self);
}

- (id)getSummaryWithBoolean:(jboolean)arg0 {
  return EduUmassCsUtilsSummarizable_getSummaryWithBoolean_(self, arg0);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsNioInterfacesIntegerPacketType;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 0, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getRequestType);
  methods[2].selector = @selector(getServiceName);
  methods[3].selector = @selector(description);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "toString", "LEduUmassCsReconfigurationAbstractReconfiguratorDB;", "getNoopRequestWithNSString:" };
  static const J2ObjcClassInfo _EduUmassCsReconfigurationAbstractReconfiguratorDB_2 = { "", "edu.umass.cs.reconfiguration", ptrTable, methods, NULL, 7, 0x8008, 4, 0, 1, -1, 2, -1, -1 };
  return &_EduUmassCsReconfigurationAbstractReconfiguratorDB_2;
}

@end

void EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init(EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *self) {
  NSObject_init(self);
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init() {
  J2OBJC_NEW_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_2, init)
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_2 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_init() {
  J2OBJC_CREATE_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_2, init)
}

@implementation EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (jint)getInt {
  return JavaLangInteger_MAX_VALUE;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getInt);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LEduUmassCsReconfigurationAbstractReconfiguratorDB_2;", "getRequestType" };
  static const J2ObjcClassInfo _EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 = { "", "edu.umass.cs.reconfiguration", ptrTable, methods, NULL, 7, 0x8008, 2, 0, 0, -1, 1, -1, -1 };
  return &_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1;
}

@end

void EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init(EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *self) {
  NSObject_init(self);
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *new_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init() {
  J2OBJC_NEW_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1, init)
}

EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1 *create_EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1_init() {
  J2OBJC_CREATE_IMPL(EduUmassCsReconfigurationAbstractReconfiguratorDB_2_1, init)
}
