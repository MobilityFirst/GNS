//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../../gig_ios/src/edu/umass/cs/gigapaxos/paxosutil/PendingDigests.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "edu/umass/cs/gigapaxos/PaxosConfig.h"
#include "edu/umass/cs/gigapaxos/paxospackets/AcceptPacket.h"
#include "edu/umass/cs/gigapaxos/paxospackets/RequestPacket.h"
#include "edu/umass/cs/gigapaxos/paxosutil/PendingDigests.h"
#include "edu/umass/cs/utils/Config.h"
#include "edu/umass/cs/utils/GCConcurrentHashMap.h"
#include "edu/umass/cs/utils/GCConcurrentHashMapCallback.h"
#include "edu/umass/cs/utils/Util.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/Math.h"
#include "java/security/MessageDigest.h"
#include "java/security/NoSuchAlgorithmException.h"
#include "java/util/Collection.h"
#include "java/util/Map.h"
#include "java/util/concurrent/ConcurrentHashMap.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"

@interface EduUmassCsGigapaxosPaxosutilPendingDigests ()

- (void)logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket:(EduUmassCsGigapaxosPaxospacketsRequestPacket *)request
                   withEduUmassCsGigapaxosPaxospacketsAcceptPacket:(EduUmassCsGigapaxosPaxospacketsAcceptPacket *)accept;

- (NSString *)truncatedSummaryWithInt:(jint)size;

@end

inline IOSObjectArray *EduUmassCsGigapaxosPaxosutilPendingDigests_get_mds();
static IOSObjectArray *EduUmassCsGigapaxosPaxosutilPendingDigests_mds;
J2OBJC_STATIC_FIELD_OBJ_FINAL(EduUmassCsGigapaxosPaxosutilPendingDigests, mds, IOSObjectArray *)

inline jlong EduUmassCsGigapaxosPaxosutilPendingDigests_get_ACCEPT_TIMEOUT();
static jlong EduUmassCsGigapaxosPaxosutilPendingDigests_ACCEPT_TIMEOUT;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(EduUmassCsGigapaxosPaxosutilPendingDigests, ACCEPT_TIMEOUT, jlong)

__attribute__((unused)) static void EduUmassCsGigapaxosPaxosutilPendingDigests_logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket_withEduUmassCsGigapaxosPaxospacketsAcceptPacket_(EduUmassCsGigapaxosPaxosutilPendingDigests *self, EduUmassCsGigapaxosPaxospacketsRequestPacket *request, EduUmassCsGigapaxosPaxospacketsAcceptPacket *accept);

__attribute__((unused)) static NSString *EduUmassCsGigapaxosPaxosutilPendingDigests_truncatedSummaryWithInt_(EduUmassCsGigapaxosPaxosutilPendingDigests *self, jint size);

@interface EduUmassCsGigapaxosPaxosutilPendingDigests_1 : NSObject < EduUmassCsUtilsGCConcurrentHashMapCallback > {
 @public
  EduUmassCsGigapaxosPaxosutilPendingDigests *this$0_;
}

- (instancetype)initWithEduUmassCsGigapaxosPaxosutilPendingDigests:(EduUmassCsGigapaxosPaxosutilPendingDigests *)outer$;

- (void)callbackGCWithId:(id)key
                  withId:(id)value;

@end

J2OBJC_EMPTY_STATIC_INIT(EduUmassCsGigapaxosPaxosutilPendingDigests_1)

__attribute__((unused)) static void EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests_1 *self, EduUmassCsGigapaxosPaxosutilPendingDigests *outer$);

__attribute__((unused)) static EduUmassCsGigapaxosPaxosutilPendingDigests_1 *new_EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static EduUmassCsGigapaxosPaxosutilPendingDigests_1 *create_EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests *outer$);

J2OBJC_INITIALIZED_DEFN(EduUmassCsGigapaxosPaxosutilPendingDigests)

@implementation EduUmassCsGigapaxosPaxosutilPendingDigests

- (instancetype)initWithJavaUtilMap:(id<JavaUtilMap>)rcs
                            withInt:(jint)numMDs
withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback:(EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *)callback {
  EduUmassCsGigapaxosPaxosutilPendingDigests_initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_(self, rcs, numMDs, callback);
  return self;
}

- (EduUmassCsGigapaxosPaxospacketsAcceptPacket *)matchWithEduUmassCsGigapaxosPaxospacketsAcceptPacket:(EduUmassCsGigapaxosPaxospacketsAcceptPacket *)accept {
  EduUmassCsGigapaxosPaxosConfig_RequestAndCallback *rc = nil;
  @synchronized(self->requests_) {
    if ((rc = [((id<JavaUtilMap>) nil_chk(requests_)) getWithId:JavaLangLong_valueOfWithLong_(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(accept))->requestID_)]) == nil) [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) putWithId:JavaLangLong_valueOfWithLong_(accept->requestID_) withId:accept];
  }
  if (rc != nil && [((NSString *) nil_chk([((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk([rc getRequestPacket])) getPaxosID])) isEqual:[accept getPaxosID]]) {
    if ([((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk([rc getRequestPacket])) digestEqualsWithEduUmassCsGigapaxosPaxospacketsRequestPacket:accept withJavaSecurityMessageDigest:IOSObjectArray_Get(EduUmassCsGigapaxosPaxosutilPendingDigests_mds, JreFpToInt((JavaLangMath_random() * ((IOSObjectArray *) nil_chk(EduUmassCsGigapaxosPaxosutilPendingDigests_mds))->size_)))]) {
      accept = [accept undigestWithEduUmassCsGigapaxosPaxospacketsRequestPacket:[rc getRequestPacket]];
      JreAssert((([((EduUmassCsGigapaxosPaxospacketsAcceptPacket *) nil_chk(accept)) hasRequestValue])), (@"edu/umass/cs/gigapaxos/paxosutil/PendingDigests.java:79 condition failed: assert (accept.hasRequestValue());"));
      return accept;
    }
    else EduUmassCsGigapaxosPaxosutilPendingDigests_logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket_withEduUmassCsGigapaxosPaxospacketsAcceptPacket_(self, [rc getRequestPacket], accept);
  }
  return nil;
}

- (EduUmassCsGigapaxosPaxospacketsAcceptPacket *)release__WithEduUmassCsGigapaxosPaxospacketsRequestPacket:(EduUmassCsGigapaxosPaxospacketsRequestPacket *)request
                                                                                               withBoolean:(jboolean)remove {
  return [self release__WithEduUmassCsGigapaxosPaxospacketsRequestPacket:request withBoolean:remove withBoolean:true];
}

- (EduUmassCsGigapaxosPaxospacketsAcceptPacket *)release__WithEduUmassCsGigapaxosPaxospacketsRequestPacket:(EduUmassCsGigapaxosPaxospacketsRequestPacket *)request
                                                                                               withBoolean:(jboolean)remove
                                                                                               withBoolean:(jboolean)assertion {
  EduUmassCsGigapaxosPaxospacketsAcceptPacket *accept = nil;
  if (assertion && ![((id<JavaUtilMap>) nil_chk(self->requests_)) containsKeyWithId:JavaLangLong_valueOfWithLong_(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(request))->requestID_)]) {
    [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsGigapaxosPaxosConfig_getLogger())) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, SEVERE) withNSString:@"PendingDigests trying to release unqueued request {0}" withNSObjectArray:[IOSObjectArray arrayWithObjects:(id[]){ [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(request)) getSummary] } count:1 type:NSObject_class_()]];
    JreAssert((false), (request));
  }
  @synchronized(self->requests_) {
    accept = [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) getWithId:JavaLangLong_valueOfWithLong_(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(request))->requestID_)];
  }
  JreAssert(((request != nil && [request getPaxosID] != nil && (accept == nil || [accept getPaxosID] != nil))), (@"edu/umass/cs/gigapaxos/paxosutil/PendingDigests.java:106 condition failed: assert (request != null && request.getPaxosID() != null && (accept == null || accept\n\t\t\t\t.getPaxosID() != null));"));
  if (accept != nil && [((NSString *) nil_chk([accept getPaxosID])) isEqual:[request getPaxosID]]) {
    if ([request digestEqualsWithEduUmassCsGigapaxosPaxospacketsRequestPacket:accept withJavaSecurityMessageDigest:IOSObjectArray_Get(EduUmassCsGigapaxosPaxosutilPendingDigests_mds, JreFpToInt((JavaLangMath_random() * ((IOSObjectArray *) nil_chk(EduUmassCsGigapaxosPaxosutilPendingDigests_mds))->size_)))]) {
      accept = [accept undigestWithEduUmassCsGigapaxosPaxospacketsRequestPacket:request];
      if (remove) @synchronized(self->requests_) {
        [self->accepts_ removeWithId:JavaLangLong_valueOfWithLong_(request->requestID_)];
      }
      return accept;
    }
    else EduUmassCsGigapaxosPaxosutilPendingDigests_logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket_withEduUmassCsGigapaxosPaxospacketsAcceptPacket_(self, request, accept);
  }
  return nil;
}

- (void)logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket:(EduUmassCsGigapaxosPaxospacketsRequestPacket *)request
                   withEduUmassCsGigapaxosPaxospacketsAcceptPacket:(EduUmassCsGigapaxosPaxospacketsAcceptPacket *)accept {
  EduUmassCsGigapaxosPaxosutilPendingDigests_logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket_withEduUmassCsGigapaxosPaxospacketsAcceptPacket_(self, request, accept);
}

+ (JavaSecurityMessageDigest *)getMessageDigest {
  return EduUmassCsGigapaxosPaxosutilPendingDigests_getMessageDigest();
}

- (NSString *)truncatedSummaryWithInt:(jint)size {
  return EduUmassCsGigapaxosPaxosutilPendingDigests_truncatedSummaryWithInt_(self, size);
}

- (NSString *)description {
  return JreStrcat("IC$", [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) size], ':', EduUmassCsGigapaxosPaxosutilPendingDigests_truncatedSummaryWithInt_(self, 16));
}

- (jint)size {
  return [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) size];
}

- (EduUmassCsGigapaxosPaxospacketsAcceptPacket *)removeWithEduUmassCsGigapaxosPaxospacketsRequestPacket:(EduUmassCsGigapaxosPaxospacketsRequestPacket *)request {
  return [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) removeWithId:JavaLangLong_valueOfWithLong_(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(request))->requestID_)];
}

- (void)dealloc {
  RELEASE_(accepts_);
  RELEASE_(requests_);
  RELEASE_(callback_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", 0x1, 2, 3, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", 0x1, 4, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 8, -1, -1, -1, -1 },
    { NULL, "LJavaSecurityMessageDigest;", 0x9, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x2, 9, 10, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 11, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", 0x1, 12, 13, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithJavaUtilMap:withInt:withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback:);
  methods[1].selector = @selector(matchWithEduUmassCsGigapaxosPaxospacketsAcceptPacket:);
  methods[2].selector = @selector(release__WithEduUmassCsGigapaxosPaxospacketsRequestPacket:withBoolean:);
  methods[3].selector = @selector(release__WithEduUmassCsGigapaxosPaxospacketsRequestPacket:withBoolean:withBoolean:);
  methods[4].selector = @selector(logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket:withEduUmassCsGigapaxosPaxospacketsAcceptPacket:);
  methods[5].selector = @selector(getMessageDigest);
  methods[6].selector = @selector(truncatedSummaryWithInt:);
  methods[7].selector = @selector(description);
  methods[8].selector = @selector(size);
  methods[9].selector = @selector(removeWithEduUmassCsGigapaxosPaxospacketsRequestPacket:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "accepts_", "LJavaUtilConcurrentConcurrentHashMap;", .constantValue.asLong = 0, 0x10, -1, -1, 14, -1 },
    { "requests_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x10, -1, -1, 15, -1 },
    { "callback_", "LEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "mds", "[LJavaSecurityMessageDigest;", .constantValue.asLong = 0, 0x1a, -1, 16, -1, -1 },
    { "ACCEPT_TIMEOUT", "J", .constantValue.asLong = 0, 0x1a, -1, 17, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaUtilMap;ILEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback;", "(Ljava/util/Map<Ljava/lang/Long;Ledu/umass/cs/gigapaxos/PaxosConfig$RequestAndCallback;>;ILedu/umass/cs/gigapaxos/paxosutil/PendingDigests$PendingDigestCallback;)V", "match", "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", "release", "LEduUmassCsGigapaxosPaxospacketsRequestPacket;Z", "LEduUmassCsGigapaxosPaxospacketsRequestPacket;ZZ", "logAnomaly", "LEduUmassCsGigapaxosPaxospacketsRequestPacket;LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", "truncatedSummary", "I", "toString", "remove", "LEduUmassCsGigapaxosPaxospacketsRequestPacket;", "Ljava/util/concurrent/ConcurrentHashMap<Ljava/lang/Long;Ledu/umass/cs/gigapaxos/paxospackets/AcceptPacket;>;", "Ljava/util/Map<Ljava/lang/Long;Ledu/umass/cs/gigapaxos/PaxosConfig$RequestAndCallback;>;", &EduUmassCsGigapaxosPaxosutilPendingDigests_mds, &EduUmassCsGigapaxosPaxosutilPendingDigests_ACCEPT_TIMEOUT, "LEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback;" };
  static const J2ObjcClassInfo _EduUmassCsGigapaxosPaxosutilPendingDigests = { "PendingDigests", "edu.umass.cs.gigapaxos.paxosutil", ptrTable, methods, fields, 7, 0x1, 10, 5, -1, 18, -1, -1, -1 };
  return &_EduUmassCsGigapaxosPaxosutilPendingDigests;
}

+ (void)initialize {
  if (self == [EduUmassCsGigapaxosPaxosutilPendingDigests class]) {
    JreStrongAssignAndConsume(&EduUmassCsGigapaxosPaxosutilPendingDigests_mds, [IOSObjectArray newArrayWithLength:EduUmassCsUtilsConfig_getGlobalIntWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, NUM_MESSAGE_DIGESTS)) type:JavaSecurityMessageDigest_class_()]);
    {
      for (jint i = 0; i < EduUmassCsGigapaxosPaxosutilPendingDigests_mds->size_; i++) @try {
        IOSObjectArray_Set(EduUmassCsGigapaxosPaxosutilPendingDigests_mds, i, JavaSecurityMessageDigest_getInstanceWithNSString_(@"MD5"));
      }
      @catch (JavaSecurityNoSuchAlgorithmException *e) {
        EduUmassCsUtilsUtil_suicideWithNSString_(@"Unable to initialize MessageDigest; exiting");
      }
    }
    EduUmassCsGigapaxosPaxosutilPendingDigests_ACCEPT_TIMEOUT = EduUmassCsUtilsConfig_getGlobalLongWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, ACCEPT_TIMEOUT));
    J2OBJC_SET_INITIALIZED(EduUmassCsGigapaxosPaxosutilPendingDigests)
  }
}

@end

void EduUmassCsGigapaxosPaxosutilPendingDigests_initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_(EduUmassCsGigapaxosPaxosutilPendingDigests *self, id<JavaUtilMap> rcs, jint numMDs, EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *callback) {
  NSObject_init(self);
  JreStrongAssign(&self->requests_, rcs);
  JreStrongAssign(&self->callback_, callback);
  JreStrongAssign(&self->accepts_, (EduUmassCsGigapaxosPaxosutilPendingDigests_ACCEPT_TIMEOUT == JavaLangInteger_MAX_VALUE ? create_JavaUtilConcurrentConcurrentHashMap_init() : create_EduUmassCsUtilsGCConcurrentHashMap_initWithEduUmassCsUtilsGCConcurrentHashMapCallback_withLong_(create_EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(self), EduUmassCsGigapaxosPaxosutilPendingDigests_ACCEPT_TIMEOUT)));
  @try {
    for (jint i = 0; i < ((IOSObjectArray *) nil_chk(EduUmassCsGigapaxosPaxosutilPendingDigests_mds))->size_; i++) IOSObjectArray_Set(EduUmassCsGigapaxosPaxosutilPendingDigests_mds, i, JavaSecurityMessageDigest_getInstanceWithNSString_(@"MD5"));
  }
  @catch (JavaSecurityNoSuchAlgorithmException *e) {
    EduUmassCsUtilsUtil_suicideWithNSString_(@"Unable to initialize MessageDigest; exiting");
  }
}

EduUmassCsGigapaxosPaxosutilPendingDigests *new_EduUmassCsGigapaxosPaxosutilPendingDigests_initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_(id<JavaUtilMap> rcs, jint numMDs, EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *callback) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxosutilPendingDigests, initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_, rcs, numMDs, callback)
}

EduUmassCsGigapaxosPaxosutilPendingDigests *create_EduUmassCsGigapaxosPaxosutilPendingDigests_initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_(id<JavaUtilMap> rcs, jint numMDs, EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *callback) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxosutilPendingDigests, initWithJavaUtilMap_withInt_withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_, rcs, numMDs, callback)
}

void EduUmassCsGigapaxosPaxosutilPendingDigests_logAnomalyWithEduUmassCsGigapaxosPaxospacketsRequestPacket_withEduUmassCsGigapaxosPaxospacketsAcceptPacket_(EduUmassCsGigapaxosPaxosutilPendingDigests *self, EduUmassCsGigapaxosPaxospacketsRequestPacket *request, EduUmassCsGigapaxosPaxospacketsAcceptPacket *accept) {
  [((JavaUtilLoggingLogger *) nil_chk(EduUmassCsGigapaxosPaxosConfig_getLogger())) warningWithNSString:JreStrcat("$@$@", @"Mismatched digests for matching requestIDs: ", [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(request)) getSummary], @" != ", [((EduUmassCsGigapaxosPaxospacketsAcceptPacket *) nil_chk(accept)) getSummary])];
}

JavaSecurityMessageDigest *EduUmassCsGigapaxosPaxosutilPendingDigests_getMessageDigest() {
  EduUmassCsGigapaxosPaxosutilPendingDigests_initialize();
  return IOSObjectArray_Get(EduUmassCsGigapaxosPaxosutilPendingDigests_mds, JreFpToInt((JavaLangMath_random() * ((IOSObjectArray *) nil_chk(EduUmassCsGigapaxosPaxosutilPendingDigests_mds))->size_)));
}

NSString *EduUmassCsGigapaxosPaxosutilPendingDigests_truncatedSummaryWithInt_(EduUmassCsGigapaxosPaxosutilPendingDigests *self, jint size) {
  NSString *s = @"[";
  jint count = 0;
  IOSObjectArray *array = [((id<JavaUtilCollection>) nil_chk([((JavaUtilConcurrentConcurrentHashMap *) nil_chk(self->accepts_)) values])) toArrayWithNSObjectArray:[IOSObjectArray arrayWithLength:0 type:EduUmassCsGigapaxosPaxospacketsAcceptPacket_class_()]];
  {
    IOSObjectArray *a__ = array;
    EduUmassCsGigapaxosPaxospacketsAcceptPacket * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    EduUmassCsGigapaxosPaxospacketsAcceptPacket * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      EduUmassCsGigapaxosPaxospacketsAcceptPacket *accept = *b__++;
      JreStrAppend(&s, "$JC@", (count > 0 ? @", " : @""), ((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(accept))->requestID_, ':', [accept getSummary]);
      if ((++count) == size) break;
    }
  }
  JreAssert(((count == size || count == ((IOSObjectArray *) nil_chk(array))->size_)), (@"edu/umass/cs/gigapaxos/paxosutil/PendingDigests.java:144 condition failed: assert(count==size || count==array.length);"));
  return JreStrcat("$C", s, ']');
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsGigapaxosPaxosutilPendingDigests)

@implementation EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)callbackWithEduUmassCsGigapaxosPaxospacketsAcceptPacket:(EduUmassCsGigapaxosPaxospacketsAcceptPacket *)accept {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x401, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(callbackWithEduUmassCsGigapaxosPaxospacketsAcceptPacket:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "callback", "LEduUmassCsGigapaxosPaxospacketsAcceptPacket;", "LEduUmassCsGigapaxosPaxosutilPendingDigests;" };
  static const J2ObjcClassInfo _EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback = { "PendingDigestCallback", "edu.umass.cs.gigapaxos.paxosutil", ptrTable, methods, NULL, 7, 0x409, 2, 0, 2, -1, -1, -1, -1 };
  return &_EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback;
}

@end

void EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback_init(EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback)

@implementation EduUmassCsGigapaxosPaxosutilPendingDigests_1

- (instancetype)initWithEduUmassCsGigapaxosPaxosutilPendingDigests:(EduUmassCsGigapaxosPaxosutilPendingDigests *)outer$ {
  EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(self, outer$);
  return self;
}

- (void)callbackGCWithId:(id)key
                  withId:(id)value {
  [((EduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback *) nil_chk(this$0_->callback_)) callbackWithEduUmassCsGigapaxosPaxospacketsAcceptPacket:(EduUmassCsGigapaxosPaxospacketsAcceptPacket *) cast_chk(value, [EduUmassCsGigapaxosPaxospacketsAcceptPacket class])];
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithEduUmassCsGigapaxosPaxosutilPendingDigests:);
  methods[1].selector = @selector(callbackGCWithId:withId:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LEduUmassCsGigapaxosPaxosutilPendingDigests;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "callbackGC", "LNSObject;LNSObject;", "LEduUmassCsGigapaxosPaxosutilPendingDigests;", "initWithJavaUtilMap:withInt:withEduUmassCsGigapaxosPaxosutilPendingDigests_PendingDigestCallback:" };
  static const J2ObjcClassInfo _EduUmassCsGigapaxosPaxosutilPendingDigests_1 = { "", "edu.umass.cs.gigapaxos.paxosutil", ptrTable, methods, fields, 7, 0x8008, 2, 1, 2, -1, 3, -1, -1 };
  return &_EduUmassCsGigapaxosPaxosutilPendingDigests_1;
}

@end

void EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests_1 *self, EduUmassCsGigapaxosPaxosutilPendingDigests *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

EduUmassCsGigapaxosPaxosutilPendingDigests_1 *new_EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests *outer$) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxosutilPendingDigests_1, initWithEduUmassCsGigapaxosPaxosutilPendingDigests_, outer$)
}

EduUmassCsGigapaxosPaxosutilPendingDigests_1 *create_EduUmassCsGigapaxosPaxosutilPendingDigests_1_initWithEduUmassCsGigapaxosPaxosutilPendingDigests_(EduUmassCsGigapaxosPaxosutilPendingDigests *outer$) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxosutilPendingDigests_1, initWithEduUmassCsGigapaxosPaxosutilPendingDigests_, outer$)
}
