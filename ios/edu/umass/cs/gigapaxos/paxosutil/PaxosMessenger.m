//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../../gig_ios/src/edu/umass/cs/gigapaxos/paxosutil/PaxosMessenger.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "edu/umass/cs/gigapaxos/PaxosConfig.h"
#include "edu/umass/cs/gigapaxos/paxospackets/BatchedCommit.h"
#include "edu/umass/cs/gigapaxos/paxospackets/PaxosPacket.h"
#include "edu/umass/cs/gigapaxos/paxospackets/RequestPacket.h"
#include "edu/umass/cs/gigapaxos/paxosutil/Ballot.h"
#include "edu/umass/cs/gigapaxos/paxosutil/IntegerMap.h"
#include "edu/umass/cs/gigapaxos/paxosutil/MessagingTask.h"
#include "edu/umass/cs/gigapaxos/paxosutil/PaxosMessenger.h"
#include "edu/umass/cs/nio/GenericMessagingTask.h"
#include "edu/umass/cs/nio/JSONMessenger.h"
#include "edu/umass/cs/nio/interfaces/InterfaceNIOTransport.h"
#include "edu/umass/cs/utils/Config.h"
#include "edu/umass/cs/utils/DelayProfiler.h"
#include "edu/umass/cs/utils/Util.h"
#include "java/lang/Integer.h"
#include "java/lang/System.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/Set.h"
#include "net/minidev/json/JSONObject.h"
#include "org/json/JSONArray.h"
#include "org/json/JSONObject.h"

@interface EduUmassCsGigapaxosPaxosutilPaxosMessenger () {
 @public
  EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap_;
}

- (jboolean)useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask:(EduUmassCsGigapaxosPaxosutilMessagingTask *)mtask;

+ (jboolean)cacheStringifiedAccept;

- (id)toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:(EduUmassCsGigapaxosPaxospacketsPaxosPacket *)msg;

- (id)toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:(EduUmassCsGigapaxosPaxospacketsPaxosPacket *)msg;

- (IOSObjectArray *)toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray:(IOSObjectArray *)packets;

- (EduUmassCsNioGenericMessagingTask *)toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask:(EduUmassCsGigapaxosPaxosutilMessagingTask *)mtask;

- (NSString *)intToStringWithInt:(jint)id_;

@end

J2OBJC_FIELD_SETTER(EduUmassCsGigapaxosPaxosutilPaxosMessenger, nodeMap_, EduUmassCsGigapaxosPaxosutilIntegerMap *)

inline jint EduUmassCsGigapaxosPaxosutilPaxosMessenger_get_NUM_MESSENGER_WORKERS();
static jint EduUmassCsGigapaxosPaxosutilPaxosMessenger_NUM_MESSENGER_WORKERS;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, NUM_MESSENGER_WORKERS, jint)

inline jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_get_BYTEIFICATION();
static jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_BYTEIFICATION;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, BYTEIFICATION, jboolean)

inline jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_get_ENABLE_INSTRUMENTATION();
static jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INSTRUMENTATION;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, ENABLE_INSTRUMENTATION, jboolean)

inline jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_get_USE_JSON_SMART();
static jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_USE_JSON_SMART;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, USE_JSON_SMART, jboolean)

__attribute__((unused)) static jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxosutilMessagingTask *mtask);

__attribute__((unused)) static jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept();

__attribute__((unused)) static id EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxospacketsPaxosPacket *msg);

__attribute__((unused)) static id EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxospacketsPaxosPacket *msg);

__attribute__((unused)) static IOSObjectArray *EduUmassCsGigapaxosPaxosutilPaxosMessenger_toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, IOSObjectArray *packets);

__attribute__((unused)) static EduUmassCsNioGenericMessagingTask *EduUmassCsGigapaxosPaxosutilPaxosMessenger_toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxosutilMessagingTask *mtask);

__attribute__((unused)) static NSString *EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, jint id_);

J2OBJC_INITIALIZED_DEFN(EduUmassCsGigapaxosPaxosutilPaxosMessenger)

jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_INSTRUMENT_SERIALIZATION;

@implementation EduUmassCsGigapaxosPaxosutilPaxosMessenger

- (instancetype)initWithEduUmassCsNioInterfacesInterfaceNIOTransport:(id<EduUmassCsNioInterfacesInterfaceNIOTransport>)niot
                          withEduUmassCsGigapaxosPaxosutilIntegerMap:(EduUmassCsGigapaxosPaxosutilIntegerMap *)nodeMap {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_(self, niot, nodeMap);
  return self;
}

- (instancetype)initWithEduUmassCsNioInterfacesInterfaceNIOTransport:(id<EduUmassCsNioInterfacesInterfaceNIOTransport>)niot
                          withEduUmassCsGigapaxosPaxosutilIntegerMap:(EduUmassCsGigapaxosPaxosutilIntegerMap *)nodeMap
                                                             withInt:(jint)numWorkers {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(self, niot, nodeMap, numWorkers);
  return self;
}

- (instancetype)initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger:(EduUmassCsGigapaxosPaxosutilPaxosMessenger *)msgr {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_(self, msgr);
  return self;
}

- (void)sendWithEduUmassCsGigapaxosPaxosutilMessagingTaskArray:(IOSObjectArray *)mtasks {
  if (mtasks == nil) return;
  {
    IOSObjectArray *a__ = mtasks;
    EduUmassCsGigapaxosPaxosutilMessagingTask * const *b__ = a__->buffer_;
    EduUmassCsGigapaxosPaxosutilMessagingTask * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      EduUmassCsGigapaxosPaxosutilMessagingTask *mtask = *b__++;
      [self sendWithEduUmassCsGigapaxosPaxosutilMessagingTask:mtask];
    }
  }
}

- (void)sendWithEduUmassCsGigapaxosPaxosutilMessagingTask:(EduUmassCsGigapaxosPaxosutilMessagingTask *)mtask {
  if (mtask == nil || [mtask isEmptyMessaging]) return;
  [super sendWithEduUmassCsNioGenericMessagingTask:EduUmassCsGigapaxosPaxosutilPaxosMessenger_toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask_(self, mtask) withBoolean:EduUmassCsGigapaxosPaxosutilPaxosMessenger_useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask_(self, mtask)];
}

- (jboolean)useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask:(EduUmassCsGigapaxosPaxosutilMessagingTask *)mtask {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask_(self, mtask);
}

+ (jboolean)cacheStringifiedAccept {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept();
}

- (id)toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:(EduUmassCsGigapaxosPaxospacketsPaxosPacket *)msg {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, msg);
}

- (id)toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:(EduUmassCsGigapaxosPaxospacketsPaxosPacket *)msg {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, msg);
}

- (IOSObjectArray *)toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray:(IOSObjectArray *)packets {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray_(self, packets);
}

+ (jboolean)useJSONSmart {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_useJSONSmart();
}

- (EduUmassCsNioGenericMessagingTask *)toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask:(EduUmassCsGigapaxosPaxosutilMessagingTask *)mtask {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask_(self, mtask);
}

- (OrgJsonJSONObject *)fixNodeIntToStringWithOrgJsonJSONObject:(OrgJsonJSONObject *)json {
  if (EduUmassCsGigapaxosPaxosutilIntegerMap_allInt()) return json;
  if ([((OrgJsonJSONObject *) nil_chk(json)) hasWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B))) description]]) {
    EduUmassCsGigapaxosPaxosutilBallot *ballot = create_EduUmassCsGigapaxosPaxosutilBallot_initWithNSString_([json getStringWithNSString:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B) description]]);
    [json putWithNSString:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B) description] withId:EduUmassCsGigapaxosPaxosutilBallot_getBallotStringWithInt_withId_(ballot->ballotNumber_, EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, ballot->coordinatorID_))];
  }
  else if ([json hasWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP))) description]]) {
    OrgJsonJSONArray *jsonArray = [json getJSONArrayWithNSString:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP) description]];
    for (jint i = 0; i < [((OrgJsonJSONArray *) nil_chk(jsonArray)) length]; i++) {
      jint member = [jsonArray getIntWithInt:i];
      [jsonArray putWithInt:i withId:EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, member)];
    }
    [json putWithNSString:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP) description] withId:jsonArray];
  }
  else {
    IOSObjectArray *a__ = EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys_values();
    EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *key = *b__++;
      if ([json hasWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(key)) description]]) {
        jint id_ = [json getIntWithNSString:[key description]];
        [json putWithNSString:[key description] withId:EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, id_)];
      }
    }
  }
  return json;
}

- (NetMinidevJsonJSONObject *)fixNodeIntToStringWithNetMinidevJsonJSONObject:(NetMinidevJsonJSONObject *)jsonSmart {
  if (EduUmassCsGigapaxosPaxosutilIntegerMap_allInt()) return jsonSmart;
  if ([((NetMinidevJsonJSONObject *) nil_chk(jsonSmart)) containsKeyWithId:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B))) description]]) {
    EduUmassCsGigapaxosPaxosutilBallot *ballot = create_EduUmassCsGigapaxosPaxosutilBallot_initWithNSString_((NSString *) cast_chk([jsonSmart getWithId:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B) description]], [NSString class]));
    [jsonSmart putWithId:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B) description] withId:EduUmassCsGigapaxosPaxosutilBallot_getBallotStringWithInt_withId_(ballot->ballotNumber_, EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, ballot->coordinatorID_))];
  }
  else if ([jsonSmart containsKeyWithId:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP))) description]]) {
    id<JavaUtilCollection> jsonArray = (id<JavaUtilCollection>) cast_check([jsonSmart getWithId:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP) description]], JavaUtilCollection_class_());
    JavaUtilArrayList *nodes = create_JavaUtilArrayList_init();
    for (id __strong element in nil_chk(jsonArray)) {
      jint member = [((JavaLangInteger *) nil_chk((JavaLangInteger *) cast_chk(element, [JavaLangInteger class]))) intValue];
      [nodes addWithId:EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, member)];
    }
    [jsonSmart putWithId:[JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, GROUP) description] withId:nodes];
  }
  else {
    IOSObjectArray *a__ = EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys_values();
    EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *key = *b__++;
      if ([jsonSmart containsKeyWithId:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(key)) description]]) {
        jint id_ = [((JavaLangInteger *) nil_chk((JavaLangInteger *) cast_chk([jsonSmart getWithId:[key description]], [JavaLangInteger class]))) intValue];
        [jsonSmart putWithId:[key description] withId:EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, id_)];
      }
    }
  }
  return jsonSmart;
}

- (NSString *)intToStringWithInt:(jint)id_ {
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(self, id_);
}

- (void)dealloc {
  RELEASE_(nodeMap_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, 1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, 3, -1, -1 },
    { NULL, NULL, 0x1, -1, 4, -1, 5, -1, -1 },
    { NULL, "V", 0x1, 6, 7, 8, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 9, 8, -1, -1, -1 },
    { NULL, "Z", 0x2, 10, 9, -1, -1, -1, -1 },
    { NULL, "Z", 0xa, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x2, 11, 12, 13, -1, -1, -1 },
    { NULL, "LNSObject;", 0x2, 14, 12, 13, -1, -1, -1 },
    { NULL, "[LNSObject;", 0x2, 15, 16, 13, -1, -1, -1 },
    { NULL, "Z", 0x19, -1, -1, -1, -1, -1, -1 },
    { NULL, "LEduUmassCsNioGenericMessagingTask;", 0x2, 17, 9, 13, 18, -1, -1 },
    { NULL, "LOrgJsonJSONObject;", 0x1, 19, 20, 13, -1, -1, -1 },
    { NULL, "LNetMinidevJsonJSONObject;", 0x1, 19, 21, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x2, 22, 23, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithEduUmassCsNioInterfacesInterfaceNIOTransport:withEduUmassCsGigapaxosPaxosutilIntegerMap:);
  methods[1].selector = @selector(initWithEduUmassCsNioInterfacesInterfaceNIOTransport:withEduUmassCsGigapaxosPaxosutilIntegerMap:withInt:);
  methods[2].selector = @selector(initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger:);
  methods[3].selector = @selector(sendWithEduUmassCsGigapaxosPaxosutilMessagingTaskArray:);
  methods[4].selector = @selector(sendWithEduUmassCsGigapaxosPaxosutilMessagingTask:);
  methods[5].selector = @selector(useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask:);
  methods[6].selector = @selector(cacheStringifiedAccept);
  methods[7].selector = @selector(toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:);
  methods[8].selector = @selector(toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket:);
  methods[9].selector = @selector(toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray:);
  methods[10].selector = @selector(useJSONSmart);
  methods[11].selector = @selector(toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask:);
  methods[12].selector = @selector(fixNodeIntToStringWithOrgJsonJSONObject:);
  methods[13].selector = @selector(fixNodeIntToStringWithNetMinidevJsonJSONObject:);
  methods[14].selector = @selector(intToStringWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "NUM_MESSENGER_WORKERS", "I", .constantValue.asLong = 0, 0x1a, -1, 24, -1, -1 },
    { "ENABLE_INT_STRING_CONVERSION", "Z", .constantValue.asBOOL = EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INT_STRING_CONVERSION, 0x19, -1, -1, -1, -1 },
    { "nodeMap_", "LEduUmassCsGigapaxosPaxosutilIntegerMap;", .constantValue.asLong = 0, 0x12, -1, -1, 25, -1 },
    { "BYTEIFICATION", "Z", .constantValue.asLong = 0, 0x1a, -1, 26, -1, -1 },
    { "ENABLE_INSTRUMENTATION", "Z", .constantValue.asLong = 0, 0x1a, -1, 27, -1, -1 },
    { "INSTRUMENT_SERIALIZATION", "Z", .constantValue.asLong = 0, 0x19, -1, 28, -1, -1 },
    { "USE_JSON_SMART", "Z", .constantValue.asLong = 0, 0x1a, -1, 29, -1, -1 },
  };
  static const void *ptrTable[] = { "LEduUmassCsNioInterfacesInterfaceNIOTransport;LEduUmassCsGigapaxosPaxosutilIntegerMap;", "(Ledu/umass/cs/nio/interfaces/InterfaceNIOTransport<TNodeIDType;Lorg/json/JSONObject;>;Ledu/umass/cs/gigapaxos/paxosutil/IntegerMap<TNodeIDType;>;)V", "LEduUmassCsNioInterfacesInterfaceNIOTransport;LEduUmassCsGigapaxosPaxosutilIntegerMap;I", "(Ledu/umass/cs/nio/interfaces/InterfaceNIOTransport<TNodeIDType;Lorg/json/JSONObject;>;Ledu/umass/cs/gigapaxos/paxosutil/IntegerMap<TNodeIDType;>;I)V", "LEduUmassCsGigapaxosPaxosutilPaxosMessenger;", "(Ledu/umass/cs/gigapaxos/paxosutil/PaxosMessenger<TNodeIDType;>;)V", "send", "[LEduUmassCsGigapaxosPaxosutilMessagingTask;", "LOrgJsonJSONException;LJavaIoIOException;", "LEduUmassCsGigapaxosPaxosutilMessagingTask;", "useWorkers", "toJSONObject", "LEduUmassCsGigapaxosPaxospacketsPaxosPacket;", "LOrgJsonJSONException;", "toJSONSmartObject", "toObjects", "[LEduUmassCsGigapaxosPaxospacketsPaxosPacket;", "toGeneric", "(Ledu/umass/cs/gigapaxos/paxosutil/MessagingTask;)Ledu/umass/cs/nio/GenericMessagingTask<TNodeIDType;*>;", "fixNodeIntToString", "LOrgJsonJSONObject;", "LNetMinidevJsonJSONObject;", "intToString", "I", &EduUmassCsGigapaxosPaxosutilPaxosMessenger_NUM_MESSENGER_WORKERS, "Ledu/umass/cs/gigapaxos/paxosutil/IntegerMap<TNodeIDType;>;", &EduUmassCsGigapaxosPaxosutilPaxosMessenger_BYTEIFICATION, &EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INSTRUMENTATION, &EduUmassCsGigapaxosPaxosutilPaxosMessenger_INSTRUMENT_SERIALIZATION, &EduUmassCsGigapaxosPaxosutilPaxosMessenger_USE_JSON_SMART, "<NodeIDType:Ljava/lang/Object;>Ledu/umass/cs/nio/JSONMessenger<TNodeIDType;>;" };
  static const J2ObjcClassInfo _EduUmassCsGigapaxosPaxosutilPaxosMessenger = { "PaxosMessenger", "edu.umass.cs.gigapaxos.paxosutil", ptrTable, methods, fields, 7, 0x1, 15, 7, -1, -1, -1, 30, -1 };
  return &_EduUmassCsGigapaxosPaxosutilPaxosMessenger;
}

+ (void)initialize {
  if (self == [EduUmassCsGigapaxosPaxosutilPaxosMessenger class]) {
    EduUmassCsGigapaxosPaxosutilPaxosMessenger_NUM_MESSENGER_WORKERS = EduUmassCsUtilsConfig_getGlobalIntWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, NUM_MESSENGER_WORKERS));
    EduUmassCsGigapaxosPaxosutilPaxosMessenger_BYTEIFICATION = EduUmassCsUtilsConfig_getGlobalBooleanWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, BYTEIFICATION));
    EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INSTRUMENTATION = EduUmassCsUtilsConfig_getGlobalBooleanWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, ENABLE_INSTRUMENTATION));
    EduUmassCsGigapaxosPaxosutilPaxosMessenger_INSTRUMENT_SERIALIZATION = (EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INSTRUMENTATION && EduUmassCsUtilsConfig_getGlobalBooleanWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, INSTRUMENT_SERIALIZATION)));
    EduUmassCsGigapaxosPaxosutilPaxosMessenger_USE_JSON_SMART = ![((NSString *) nil_chk(EduUmassCsUtilsConfig_getGlobalStringWithJavaLangEnum_(JreLoadEnum(EduUmassCsGigapaxosPaxosConfig_PC, JSON_LIBRARY)))) isEqual:@"org.json"];
    J2OBJC_SET_INITIALIZED(EduUmassCsGigapaxosPaxosutilPaxosMessenger)
  }
}

@end

void EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap) {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(self, niot, nodeMap, EduUmassCsGigapaxosPaxosutilPaxosMessenger_NUM_MESSENGER_WORKERS);
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *new_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_(id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_, niot, nodeMap)
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *create_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_(id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_, niot, nodeMap)
}

void EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap, jint numWorkers) {
  EduUmassCsNioJSONMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withInt_(self, niot, numWorkers);
  JreStrongAssign(&self->nodeMap_, nodeMap);
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *new_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap, jint numWorkers) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_, niot, nodeMap, numWorkers)
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *create_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(id<EduUmassCsNioInterfacesInterfaceNIOTransport> niot, EduUmassCsGigapaxosPaxosutilIntegerMap *nodeMap, jint numWorkers) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_, niot, nodeMap, numWorkers)
}

void EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxosutilPaxosMessenger *msgr) {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsNioInterfacesInterfaceNIOTransport_withEduUmassCsGigapaxosPaxosutilIntegerMap_withInt_(self, [((EduUmassCsGigapaxosPaxosutilPaxosMessenger *) nil_chk(msgr)) getNIOTransport], msgr->nodeMap_, 0);
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *new_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *msgr) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_, msgr)
}

EduUmassCsGigapaxosPaxosutilPaxosMessenger *create_EduUmassCsGigapaxosPaxosutilPaxosMessenger_initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *msgr) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxosutilPaxosMessenger, initWithEduUmassCsGigapaxosPaxosutilPaxosMessenger_, msgr)
}

jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_useWorkersWithEduUmassCsGigapaxosPaxosutilMessagingTask_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxosutilMessagingTask *mtask) {
  return mtask != nil && ![mtask isEmptyMessaging] && ([((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(IOSObjectArray_Get(nil_chk(mtask->msgs_), 0))) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT) || [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(IOSObjectArray_Get(mtask->msgs_, 0))) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, DECISION) || [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(IOSObjectArray_Get(mtask->msgs_, 0))) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, BATCHED_COMMIT));
}

jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initialize();
  return EduUmassCsGigapaxosPaxosutilIntegerMap_allInt();
}

id EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxospacketsPaxosPacket *msg) {
  if (EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() && [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT) && [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])) getStringifiedSelf] != nil) return [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])))) getStringifiedSelf];
  OrgJsonJSONObject *jsonified = [self fixNodeIntToStringWithOrgJsonJSONObject:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) toJSONObject]];
  NSString *stringified = [((OrgJsonJSONObject *) nil_chk(jsonified)) description];
  if (EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() && [msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT)) [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])) setStringifiedSelfWithNSString:stringified];
  return stringified;
}

id EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxospacketsPaxosPacket *msg) {
  if (EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() && [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT) && [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])) getStringifiedSelf] != nil) return [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])))) getStringifiedSelf];
  if ((EduUmassCsGigapaxosPaxosutilPaxosMessenger_BYTEIFICATION && EduUmassCsGigapaxosPaxosutilIntegerMap_allInt() && ([((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, REQUEST) || ([msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT)))) || [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, BATCHED_COMMIT) || [msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, BATCHED_ACCEPT_REPLY)) return msg;
  jlong t = JavaLangSystem_nanoTime();
  NetMinidevJsonJSONObject *jsonSmart = [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(msg)) toJSONSmart];
  JreAssert((([msg getType] != JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT) || jsonSmart != nil)), (@"edu/umass/cs/gigapaxos/paxosutil/PaxosMessenger.java:112 condition failed: assert (msg.getType() != PaxosPacketType.ACCEPT || jsonSmart != null);"));
  id jsonified = jsonSmart == nil ? [self fixNodeIntToStringWithOrgJsonJSONObject:[msg toJSONObject]] : (id) [self fixNodeIntToStringWithNetMinidevJsonJSONObject:jsonSmart];
  NSString *stringified = [jsonified description];
  if (EduUmassCsUtilsUtil_oneInWithInt_(100) && EduUmassCsGigapaxosPaxosutilPaxosMessenger_INSTRUMENT_SERIALIZATION && EduUmassCsGigapaxosPaxosutilPaxosMessenger_ENABLE_INSTRUMENTATION) if ([msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT)) EduUmassCsUtilsDelayProfiler_updateDelayNanoWithNSString_withLong_withInt_(@"acceptStringification", t, [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])) batchSize] + 1);
  else if ([msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, BATCHED_COMMIT)) EduUmassCsUtilsDelayProfiler_updateDelayNanoWithNSString_withLong_withInt_(@"commitStringification", t, [((EduUmassCsGigapaxosPaxospacketsBatchedCommit *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsBatchedCommit class])) size] + 1);
  if (EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() && [msg getType] == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT)) [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(msg, [EduUmassCsGigapaxosPaxospacketsRequestPacket class])) setStringifiedSelfWithNSString:stringified];
  return stringified;
}

IOSObjectArray *EduUmassCsGigapaxosPaxosutilPaxosMessenger_toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, IOSObjectArray *packets) {
  IOSObjectArray *objects = [IOSObjectArray arrayWithLength:((IOSObjectArray *) nil_chk(packets))->size_ type:NSObject_class_()];
  for (jint i = 0; i < packets->size_; i++) {
    IOSObjectArray_Set(objects, i, EduUmassCsGigapaxosPaxosutilPaxosMessenger_USE_JSON_SMART ? EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONSmartObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, IOSObjectArray_Get(packets, i)) : EduUmassCsGigapaxosPaxosutilPaxosMessenger_toJSONObjectWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, IOSObjectArray_Get(packets, i)));
    JreAssert(((!EduUmassCsGigapaxosPaxosutilPaxosMessenger_cacheStringifiedAccept() || [((EduUmassCsGigapaxosPaxospacketsPaxosPacket *) nil_chk(IOSObjectArray_Get(packets, i))) getType] != JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, ACCEPT) || [((EduUmassCsGigapaxosPaxospacketsRequestPacket *) nil_chk(((EduUmassCsGigapaxosPaxospacketsRequestPacket *) cast_chk(IOSObjectArray_Get(packets, i), [EduUmassCsGigapaxosPaxospacketsRequestPacket class])))) getStringifiedSelf] != nil || EduUmassCsGigapaxosPaxosutilPaxosMessenger_BYTEIFICATION)), (@"edu/umass/cs/gigapaxos/paxosutil/PaxosMessenger.java:137 condition failed: assert (!cacheStringifiedAccept()\n\t\t\t\t\t|| packets[i].getType() != PaxosPacketType.ACCEPT\n\t\t\t\t\t|| ((RequestPacket) packets[i]).getStringifiedSelf() != null || BYTEIFICATION);"));
  }
  return objects;
}

jboolean EduUmassCsGigapaxosPaxosutilPaxosMessenger_useJSONSmart() {
  EduUmassCsGigapaxosPaxosutilPaxosMessenger_initialize();
  return EduUmassCsGigapaxosPaxosutilPaxosMessenger_USE_JSON_SMART;
}

EduUmassCsNioGenericMessagingTask *EduUmassCsGigapaxosPaxosutilPaxosMessenger_toGenericWithEduUmassCsGigapaxosPaxosutilMessagingTask_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, EduUmassCsGigapaxosPaxosutilMessagingTask *mtask) {
  id<JavaUtilSet> nodes = [((EduUmassCsGigapaxosPaxosutilIntegerMap *) nil_chk(self->nodeMap_)) getIntArrayAsNodeSetWithIntArray:((EduUmassCsGigapaxosPaxosutilMessagingTask *) nil_chk(mtask))->recipients_];
  return (create_EduUmassCsNioGenericMessagingTask_initWithNSObjectArray_withNSObjectArray_([((id<JavaUtilSet>) nil_chk(nodes)) toArray], EduUmassCsGigapaxosPaxosutilPaxosMessenger_toObjectsWithEduUmassCsGigapaxosPaxospacketsPaxosPacketArray_(self, mtask->msgs_)));
}

NSString *EduUmassCsGigapaxosPaxosutilPaxosMessenger_intToStringWithInt_(EduUmassCsGigapaxosPaxosutilPaxosMessenger *self, jint id_) {
  return [nil_chk([((EduUmassCsGigapaxosPaxosutilIntegerMap *) nil_chk(self->nodeMap_)) getWithInt:id_]) description];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsGigapaxosPaxosutilPaxosMessenger)
