//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../../gig_ios/src/edu/umass/cs/gigapaxos/paxospackets/PreparePacket.java
//

#include "J2ObjC_source.h"
#include "edu/umass/cs/gigapaxos/paxospackets/PaxosPacket.h"
#include "edu/umass/cs/gigapaxos/paxospackets/PreparePacket.h"
#include "edu/umass/cs/gigapaxos/paxosutil/Ballot.h"
#include "org/json/JSONObject.h"

@interface EduUmassCsGigapaxosPaxospacketsPreparePacket () {
 @public
  jboolean recovery_;
}

@end

@implementation EduUmassCsGigapaxosPaxospacketsPreparePacket

- (instancetype)initWithEduUmassCsGigapaxosPaxosutilBallot:(EduUmassCsGigapaxosPaxosutilBallot *)b {
  EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_(self, b);
  return self;
}

- (instancetype)initWithEduUmassCsGigapaxosPaxosutilBallot:(EduUmassCsGigapaxosPaxosutilBallot *)b
                                                   withInt:(jint)firstUndecidedSlot {
  EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_(self, b, firstUndecidedSlot);
  return self;
}

- (instancetype)initWithInt:(jint)coordinatorID
                    withInt:(jint)receiverID
withEduUmassCsGigapaxosPaxosutilBallot:(EduUmassCsGigapaxosPaxosutilBallot *)ballot
                    withInt:(jint)slotNumber {
  EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_(self, coordinatorID, receiverID, ballot, slotNumber);
  return self;
}

- (instancetype)initWithOrgJsonJSONObject:(OrgJsonJSONObject *)json {
  EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithOrgJsonJSONObject_(self, json);
  return self;
}

- (OrgJsonJSONObject *)toJSONObjectImpl {
  OrgJsonJSONObject *json = create_OrgJsonJSONObject_init();
  [json putWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B))) description] withId:[((EduUmassCsGigapaxosPaxosutilBallot *) nil_chk(ballot_)) description]];
  [json putWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys, PREP_MIN))) description] withInt:firstUndecidedSlot_];
  if (self->recovery_) [json putWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys, RCVRY))) description] withBoolean:recovery_];
  return json;
}

- (jboolean)isRecovery {
  return self->recovery_;
}

- (void)setRecovery {
  self->recovery_ = true;
}

- (NSString *)getSummaryString {
  return JreStrcat("@CIC", ballot_, '(', self->firstUndecidedSlot_, ')');
}

- (void)dealloc {
  RELEASE_(ballot_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 2, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 3, 4, -1, -1, -1 },
    { NULL, "LOrgJsonJSONObject;", 0x1, -1, -1, 4, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x4, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithEduUmassCsGigapaxosPaxosutilBallot:);
  methods[1].selector = @selector(initWithEduUmassCsGigapaxosPaxosutilBallot:withInt:);
  methods[2].selector = @selector(initWithInt:withInt:withEduUmassCsGigapaxosPaxosutilBallot:withInt:);
  methods[3].selector = @selector(initWithOrgJsonJSONObject:);
  methods[4].selector = @selector(toJSONObjectImpl);
  methods[5].selector = @selector(isRecovery);
  methods[6].selector = @selector(setRecovery);
  methods[7].selector = @selector(getSummaryString);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "ballot_", "LEduUmassCsGigapaxosPaxosutilBallot;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
    { "firstUndecidedSlot_", "I", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
    { "recovery_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LEduUmassCsGigapaxosPaxosutilBallot;", "LEduUmassCsGigapaxosPaxosutilBallot;I", "IILEduUmassCsGigapaxosPaxosutilBallot;I", "LOrgJsonJSONObject;", "LOrgJsonJSONException;" };
  static const J2ObjcClassInfo _EduUmassCsGigapaxosPaxospacketsPreparePacket = { "PreparePacket", "edu.umass.cs.gigapaxos.paxospackets", ptrTable, methods, fields, 7, 0x11, 8, 3, -1, -1, -1, -1, -1 };
  return &_EduUmassCsGigapaxosPaxospacketsPreparePacket;
}

@end

void EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_(EduUmassCsGigapaxosPaxospacketsPreparePacket *self, EduUmassCsGigapaxosPaxosutilBallot *b) {
  EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_(self, b, -1);
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *new_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_(EduUmassCsGigapaxosPaxosutilBallot *b) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithEduUmassCsGigapaxosPaxosutilBallot_, b)
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *create_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_(EduUmassCsGigapaxosPaxosutilBallot *b) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithEduUmassCsGigapaxosPaxosutilBallot_, b)
}

void EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_(EduUmassCsGigapaxosPaxospacketsPreparePacket *self, EduUmassCsGigapaxosPaxosutilBallot *b, jint firstUndecidedSlot) {
  EduUmassCsGigapaxosPaxospacketsPaxosPacket_initWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, nil);
  JreStrongAssign(&self->ballot_, b);
  JreStrongAssign(&self->packetType_, JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, PREPARE));
  self->firstUndecidedSlot_ = firstUndecidedSlot;
  self->recovery_ = false;
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *new_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_(EduUmassCsGigapaxosPaxosutilBallot *b, jint firstUndecidedSlot) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_, b, firstUndecidedSlot)
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *create_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_(EduUmassCsGigapaxosPaxosutilBallot *b, jint firstUndecidedSlot) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithEduUmassCsGigapaxosPaxosutilBallot_withInt_, b, firstUndecidedSlot)
}

void EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_(EduUmassCsGigapaxosPaxospacketsPreparePacket *self, jint coordinatorID, jint receiverID, EduUmassCsGigapaxosPaxosutilBallot *ballot, jint slotNumber) {
  EduUmassCsGigapaxosPaxospacketsPaxosPacket_initWithEduUmassCsGigapaxosPaxospacketsPaxosPacket_(self, nil);
  JreStrongAssign(&self->ballot_, ballot);
  self->firstUndecidedSlot_ = slotNumber;
  JreStrongAssign(&self->packetType_, JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, PREPARE));
  self->recovery_ = false;
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *new_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_(jint coordinatorID, jint receiverID, EduUmassCsGigapaxosPaxosutilBallot *ballot, jint slotNumber) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_, coordinatorID, receiverID, ballot, slotNumber)
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *create_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_(jint coordinatorID, jint receiverID, EduUmassCsGigapaxosPaxosutilBallot *ballot, jint slotNumber) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithInt_withInt_withEduUmassCsGigapaxosPaxosutilBallot_withInt_, coordinatorID, receiverID, ballot, slotNumber)
}

void EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithOrgJsonJSONObject_(EduUmassCsGigapaxosPaxospacketsPreparePacket *self, OrgJsonJSONObject *json) {
  EduUmassCsGigapaxosPaxospacketsPaxosPacket_initWithOrgJsonJSONObject_(self, json);
  JreAssert((EduUmassCsGigapaxosPaxospacketsPaxosPacket_getPaxosPacketTypeWithOrgJsonJSONObject_(json) == JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_PaxosPacketType, PREPARE)), (@"edu/umass/cs/gigapaxos/paxospackets/PreparePacket.java:43 condition failed: assert (PaxosPacket.getPaxosPacketType(json) == PaxosPacketType.PREPARE);"));
  JreStrongAssign(&self->packetType_, EduUmassCsGigapaxosPaxospacketsPaxosPacket_getPaxosPacketTypeWithOrgJsonJSONObject_(json));
  JreStrongAssignAndConsume(&self->ballot_, new_EduUmassCsGigapaxosPaxosutilBallot_initWithNSString_([((OrgJsonJSONObject *) nil_chk(json)) getStringWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_NodeIDKeys, B))) description]]));
  self->firstUndecidedSlot_ = [json getIntWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys, PREP_MIN))) description]];
  self->recovery_ = [json optBooleanWithNSString:[((EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys *) nil_chk(JreLoadEnum(EduUmassCsGigapaxosPaxospacketsPaxosPacket_Keys, RCVRY))) description]];
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *new_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithOrgJsonJSONObject_(OrgJsonJSONObject *json) {
  J2OBJC_NEW_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithOrgJsonJSONObject_, json)
}

EduUmassCsGigapaxosPaxospacketsPreparePacket *create_EduUmassCsGigapaxosPaxospacketsPreparePacket_initWithOrgJsonJSONObject_(OrgJsonJSONObject *json) {
  J2OBJC_CREATE_IMPL(EduUmassCsGigapaxosPaxospacketsPreparePacket, initWithOrgJsonJSONObject_, json)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUmassCsGigapaxosPaxospacketsPreparePacket)
